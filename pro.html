<!doctype html>
<html lang="vi">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>LightUnfold ‚Ä¢ Web3 AI X1000 ‚Äì PRO</title>
<meta name="theme-color" content="#0b0f13">
<meta name="description" content="Web3 AI t·ª± ƒë·ªông 24/7: d·ªØ li·ªáu th·ªã tr∆∞·ªùng ƒëa ngu·ªìn, thanh to√°n QR, n·ªôi dung cao c·∫•p m·ªü kh√≥a b·∫±ng m√£/tx/b·∫±ng ch·ª©ng. Si√™u nh·∫π, si√™u nhanh.">
<style>
  :root{
    --bg:#0b0f13;--card:#0f141a;--border:#1f2a3a;--text:#e9eef4;--muted:#9fb3c8;
    --accent:#ff9800;--good:#22c55e;--bad:#ef4444;--pill:#11161c;--link:#7dc1ff
  }
  *{box-sizing:border-box} html,body{margin:0;background:var(--bg);color:var(--text);font:15px/1.55 system-ui,-apple-system,Segoe UI,Roboto}
  a{color:var(--link);text-decoration:none} a:hover{opacity:.9}
  .wrap{max-width:1100px;margin:0 auto;padding:18px}
  .row{display:flex;gap:10px;flex-wrap:wrap;align-items:center}
  .pill{background:var(--pill);border:1px solid var(--border);border-radius:999px;padding:6px 10px}
  .card{background:var(--card);border:1px solid var(--border);border-radius:14px;padding:16px;margin-top:14px}
  h1{margin:10px 0 6px;font-size:28px} h3{margin:0 0 10px}
  .muted{color:var(--muted)}
  .grid{display:grid;gap:14px;grid-template-columns:repeat(auto-fit,minmax(260px,1fr))}
  .btn{background:var(--accent);color:#1a1200;border:0;border-radius:10px;padding:10px 14px;font-weight:700;cursor:pointer}
  .btn.out{background:transparent;border:1px solid var(--border);color:var(--text)}
  .switch{cursor:pointer}
  .ticker{overflow:hidden;white-space:nowrap;border-top:1px dashed var(--border);border-bottom:1px dashed var(--border);padding:8px 0;margin-top:8px}
  .ticker span{display:inline-block;margin-right:22px}
  .chip{display:inline-block;border-radius:8px;padding:2px 8px;margin-left:6px;font-weight:700}
  .pos{background:rgba(34,197,94,.15);color:var(--good);border:1px solid rgba(34,197,94,.35)}
  .neg{background:rgba(239,68,68,.15);color:var(--bad);border:1px solid rgba(239,68,68,.35)}
  .flex{display:flex;gap:12px;flex-wrap:wrap;align-items:center}
  .price{font-weight:800}
  .vol{color:#b6c3cf}
  .badgelink{padding:6px 10px;border:1px solid var(--border);border-radius:999px}
  .paygrid{display:grid;gap:12px;grid-template-columns:repeat(auto-fit,minmax(240px,1fr))}
  .qr{background:#fff;padding:8px;border-radius:10px}
  .field{display:flex;gap:8px;align-items:center}
  input,textarea{width:100%;background:#0b1117;border:1px solid var(--border);color:var(--text);border-radius:10px;padding:10px}
  .ok{color:var(--good)} .err{color:var(--bad)}
  .tag{display:inline-block;background:#0b1117;border:1px solid var(--border);padding:6px 10px;border-radius:10px;margin:4px 6px 0 0}
  .footer{padding:30px 0;text-align:center;color:var(--muted)}
  .hidden{display:none}
  .fade{animation:fade .5s ease} @keyframes fade{from{opacity:0;transform:translateY(4px)} to{opacity:1;transform:translateY(0)}}
  .marquee{display:inline-block;animation:scroll 22s linear infinite} @keyframes scroll{from{transform:translateX(0)} to{transform:translateX(-50%)}}
</style>
</head>
<body>
<div class="wrap">
  <div class="row">
    <span class="pill">ENS: <b id="ens">‚Äî</b></span>
    <span class="pill">Heartbeat: <b id="hb">‚Äî</b></span>
    <a class="pill" href="config.json" target="_blank">config</a>
    <a class="pill" href="data/latest.json" target="_blank">data</a>
    <span class="pill switch" id="langSwitch">VI / EN</span>
    <span class="pill switch" id="themeSwitch">üåó Theme</span>
  </div>

  <h1 id="brand">Web3 AI X1000 ‚Ä¢ PRO</h1>
  <div class="muted" id="tagline">‚Äî</div>

  <div class="card">
    <div class="flex">
      <h3 style="margin:0">üî• C∆° h·ªôi n·ªïi b·∫≠t</h3>
      <span class="badgelink" id="scanMode">qu√©t: data</span>
      <span class="badgelink switch" id="refreshNow">‚Üª l√†m m·ªõi</span>
      <span class="badgelink" id="autoTick">auto: on</span>
    </div>
    <div id="opps" class="fade"></div>
    <div class="ticker"><div id="ticker" class="marquee"></div></div>
  </div>

  <div class="card">
    <h3 style="margin:0 0 8px">üí≥ Thanh to√°n</h3>
    <div id="pays" class="paygrid"></div>
    <div class="muted" style="margin-top:6px">Qu√©t QR / click ƒë·ªÉ thanh to√°n nhanh. Sau khi thanh to√°n, d√πng m√£/tx/b·∫±ng ch·ª©ng ƒë·ªÉ m·ªü kh√≥a n·ªôi dung.</div>
  </div>

  <div class="card">
    <h3 style="margin:0 0 8px">üîì N·ªôi dung cao c·∫•p</h3>
    <div id="gate-locked">
      <div class="grid">
        <div>
          <div class="field"><input id="unlockCode" placeholder="Nh·∫≠p m√£ m·ªü kh√≥a (t·ª´ ch·ªß trang)"></div>
          <div class="field"><input id="txHash" placeholder="(Tu·ª≥ ch·ªçn) D√°n TX hash / ghi ch√∫ thanh to√°n"></div>
          <div class="field"><input id="proof" type="file" accept="image/*,application/pdf"></div>
          <div class="row">
            <button class="btn" id="btnUnlock">M·ªü kh√≥a</button>
            <button class="btn out" id="btnRemember">Nh·ªõ tr√™n thi·∫øt b·ªã</button>
          </div>
          <div id="uMsg" class="muted" style="margin-top:6px"></div>
        </div>
        <div class="muted">
          <b>C√°ch ho·∫°t ƒë·ªông:</b>
          <ul>
            <li>Nh·∫≠n m√£ sau khi thanh to√°n (ETH/USDT/MoMo/VCB/PayPal‚Ä¶)</li>
            <li>Nh·∫≠p m√£ ƒë·ªÉ m·ªü kh√≥a n·ªôi dung cao c·∫•p (l∆∞u tr√™n thi·∫øt b·ªã)</li>
            <li>C√≥ th·ªÉ d√°n TX hash / t·∫£i ·∫£nh h√≥a ƒë∆°n l√†m b·∫±ng ch·ª©ng (l∆∞u c·ª•c b·ªô)</li>
          </ul>
        </div>
      </div>
    </div>
    <div id="gate-open" class="hidden">
      <div class="row"><span class="pill ok">‚úî ƒê√£ m·ªü kh√≥a</span><button class="btn out" id="btnLock">Kho√° l·∫°i</button></div>
      <div class="grid" id="premium"></div>
    </div>
  </div>

  <div class="card">
    <h3 style="margin:0 0 8px">ü§ù Affiliate</h3>
    <div id="affs" class="grid"></div>
  </div>

  <div class="card">
    <h3 style="margin:0 0 8px">üß∞ G√≥i s·∫£n ph·∫©m / B√°o c√°o</h3>
    <div id="bundles" class="grid"></div>
  </div>

  <div class="footer">¬© <span id="year"></span> LightUnfold ‚Ä¢ T·ª± ƒë·ªông 24/7 ‚Ä¢ PRO</div>
</div>

<script>
(async function(){
  // ===== helpers =====
  const $=s=>document.querySelector(s), $$=s=>document.querySelectorAll(s);
  const sleep=ms=>new Promise(r=>setTimeout(r,ms));
  const num=n=>(n||0).toLocaleString(undefined,{maximumFractionDigits:2});
  const ago=iso=>{try{const d=new Date(iso);const s=(Date.now()-d)/1e3;return s<60?Math.floor(s)+"s":s<3600?Math.floor(s/60)+"m":s<86400?Math.floor(s/3600)+"h":Math.floor(s/86400)+"d";}catch(e){return"‚Äî"}};

  // theme toggle
  const DARK = {"--bg":"#0b0f13","--card":"#0f141a","--border":"#1f2a3a","--text":"#e9eef4","--muted":"#9fb3c8","--link":"#7dc1ff"};
  const LIGHT= {"--bg":"#f6fafc","--card":"#ffffff","--border":"#e2e8f0","--text":"#0b0f13","--muted":"#475569","--link":"#2563eb"};
  function applyTheme(mode){const vars=(mode==='light'?LIGHT:DARK);for(const k in vars)document.documentElement.style.setProperty(k,vars[k]);}
  let theme=localStorage.getItem("theme")||"dark"; applyTheme(theme);
  $('#themeSwitch').onclick=()=>{theme=(theme==='dark'?'light':'dark');localStorage.setItem('theme',theme);applyTheme(theme);};

  // i18n minimal (vi/en)
  const langAuto=(navigator.language||'vi').toLowerCase().startsWith('vi')?'vi':'en';
  let LANG=localStorage.getItem('lang')||langAuto;
  function i18n(){
    $('#langSwitch').innerText=(LANG==='vi'?'VI / EN':'EN / VI');
    const map={
      vi:{pay:"üí≥ Thanh to√°n",unlock:"üîì N·ªôi dung cao c·∫•p",hot:"üî• C∆° h·ªôi n·ªïi b·∫≠t"},
      en:{pay:"üí≥ Payments",unlock:"üîì Premium content",hot:"üî• Hot opportunities"}
    };
    document.title = (LANG==='vi'?'LightUnfold ‚Ä¢ Web3 AI X1000 ‚Äì PRO':'LightUnfold ‚Ä¢ Web3 AI X1000 ‚Äì PRO');
  }
  $('#langSwitch').onclick=()=>{LANG=(LANG==='vi'?'en':'vi');localStorage.setItem('lang',LANG);i18n();}; i18n();

  // get JSON with offline cache
  async function getJSON(url,key){
    try{
      const j=await (await fetch(url,{cache:'no-store'})).json();
      localStorage.setItem(key,JSON.stringify(j)); return j;
    }catch(e){
      const c=localStorage.getItem(key); return c?JSON.parse(c):{};
    }
  }

  const cfg = await getJSON('config.json','cfg');
  let latest = await getJSON('data/latest.json','latest');

  // header
  $('#brand').textContent = cfg.site?.brand || 'Web3 AI X1000 ‚Ä¢ PRO';
  $('#tagline').textContent= cfg.site?.tagline || 'T·ª± ƒë·ªông 24/7';
  $('#ens').textContent    = cfg.site?.ens || '‚Äî';
  $('#year').textContent   = new Date().getFullYear();
  $('#hb').textContent     = latest.items?'LIVE':'‚Äî';

  // opportunities
  function renderOpps(items){
    const opp=$('#opps'); opp.innerHTML='';
    (items||[]).slice(0, cfg.ui?.cards?.max_items || 12).forEach(x=>{
      const pct=x.ch24h??0;
      const chip = `<span class="chip ${pct>=0?'pos':'neg'}">${pct>=0?'+':''}${pct.toFixed(2)}%</span>`;
      const vol  = x.vol24h?`<span class="vol">Vol 24h: $${num(x.vol24h)}</span>`:'';
      const link = x.link?`<a class="badgelink" href="${x.link}" target="_blank">Chi ti·∫øt ‚Üó</a>`:'';
      const el=document.createElement('div'); el.className='fade';
      el.innerHTML=`
        <div class="flex">
          <div><b>${x.symbol}</b> ¬∑ ${x.name||''}</div>
          <div class="price">$${num(x.price)}</div>
          ${chip} ${link}
        </div>
        <div class="muted">${vol} ¬∑ Ngu·ªìn: ${x.source||'‚Äî'}</div>
      `;
      opp.appendChild(el);
    });
    $('#ticker').innerHTML=(items||[]).map(x=>`<span>${x.symbol}: $${num(x.price)} (${(x.ch24h||0).toFixed(2)}%)</span>`).join('')||'<span>‚Äî</span>';
  }
  renderOpps(latest.items||[]);

  // auto refresh (theo config)
  let auto=true; $('#autoTick').onclick=()=>{auto=!auto; $('#autoTick').textContent='auto: '+(auto?'on':'off');}
  async function refresh(){ latest=await getJSON('data/latest.json','latest'); renderOpps(latest.items||[]); $('#hb').textContent=latest.items?'LIVE':'‚Äî'; }
  $('#refreshNow').onclick=refresh;
  ;(async function loop(){ const every=Math.max(3, Number((cfg.schedule&&cfg.schedule.refresh_minutes)||10)); while(true){ if(auto) await refresh(); await sleep(every*60*1000);} })();
  $('#scanMode').textContent = latest.items?'qu√©t: data':'qu√©t: fallback';

  // payments
  function QR(text,size=180){const u=`https://chart.googleapis.com/chart?cht=qr&chs=${size}x${size}&chl=${encodeURIComponent(text)}`;return `<img class="qr" width="${size}" height="${size}" src="${u}" alt="QR">`;}
  function cardPay(title,desc,addr,openUrl){
    const html=`<div class="card">
      <div class="flex"><h4 style="margin:0">${title}</h4>${openUrl?`<a class="badgelink" href="${openUrl}" target="_blank">M·ªü ‚Üó</a>`:''}</div>
      <div class="grid">
        <div>${QR(addr)}</div>
        <div>
          <div class="muted">${desc}</div>
          <div class="field" style="margin-top:8px"><input readonly value="${addr}"></div>
          <div class="row">
            <button class="btn" onclick="navigator.clipboard.writeText('${addr}');">Sao ch√©p</button>
            <a class="btn out" href="${QR(addr,512).match(/src=\"([^\"]+)/)[1]}" download="qr.png">T·∫£i QR</a>
          </div>
        </div>
      </div>
    </div>`;
    const d=document.createElement('div'); d.innerHTML=html; return d.firstChild;
  }
  const paysWrap=$('#pays'); const pays=cfg.site?.payments||cfg.payments||{};
  if(pays.eth)          paysWrap.appendChild(cardPay('ETH (EVM)','N·∫°p ETH/USDT m·∫°ng EVM.',pays.eth,'https://metamask.app.link/'));
  if(pays.usdt_erc20)   paysWrap.appendChild(cardPay('USDT (ERC20)','USDT m·∫°ng ERC20.',pays.usdt_erc20));
  if(pays.momo)         paysWrap.appendChild(cardPay('MoMo','Thanh to√°n MoMo.',pays.momo));
  if(pays.vietcombank)  paysWrap.appendChild(cardPay('Vietcombank','Chuy·ªÉn kho·∫£n VCB.',pays.vietcombank));
  if(pays.paypal){
    const handle=(pays.paypal||'').split('@')[0];
    paysWrap.appendChild(cardPay('PayPal','Thanh to√°n PayPal.',pays.paypal,`https://www.paypal.me/${handle}`));
  }

  // gate (m·ªü kh√≥a c·ª•c b·ªô)
  const SECRET = String((cfg.secrets&&cfg.secrets.unlock_code)||'X1000VIP'); // b·∫°n c√≥ th·ªÉ th√™m "secrets.unlock_code" v√†o config.json
  const gateOpen=$('#gate-open'), gateLock=$('#gate-locked'), uMsg=$('#uMsg');
  function setGate(open){gateOpen.classList.toggle('hidden',!open);gateLock.classList.toggle('hidden',open);}
  function paintPremium(){
    const prem=$('#premium'); prem.innerHTML='';
    const itms = (cfg.store&&cfg.store.premium)||[
      {title:"Alpha Feed Pro",desc:"D√≤ng tin alpha si√™u nhanh, c∆° h·ªôi l·ªách pha th·ªã tr∆∞·ªùng.",bullets:["T·ªëc ƒë·ªô ms","B·ªô l·ªçc r·ªßi ro","B·∫•t th∆∞·ªùng d√≤ng ti·ªÅn"],link:"data/latest.json"},
      {title:"BNB & AlgosOne Master Kit",desc:"T·ªïng h·ª£p h∆∞·ªõng d·∫´n + c√¥ng c·ª• t·ªëi ∆∞u chuy·ªÉn ƒë·ªïi.",bullets:["Checklist onboarding","M·∫´u chi·∫øn d·ªãch","C√¢u CTA ƒëa ng√¥n ng·ªØ"]}
    ];
    itms.forEach(p=>{const el=document.createElement('div'); el.className='card fade'; el.innerHTML=`<h4 style="margin:0">${p.title}</h4>
      <div class="muted">${p.desc||''}</div><ul>${(p.bullets||[]).map(x=>`<li>${x}</li>`).join('')}</ul>${p.link?`<a class="badgelink" target="_blank" href="${p.link}">Xem d·ªØ li·ªáu ‚Üó</a>`:''}`;
      prem.appendChild(el);
    });
  }
  function tryAutoOpen(){
    const keep = localStorage.getItem('unlocked_code')||'';
    if(keep===SECRET){ setGate(true); paintPremium();
      const tx = localStorage.getItem('tx_hash'); if(tx) uMsg.innerHTML='<span class="ok">TX: '+tx+'</span>';
      if(localStorage.getItem('payment_proof')) uMsg.innerHTML += ' ‚Ä¢ <span class="ok">ƒê√£ l∆∞u b·∫±ng ch·ª©ng</span>';
    }
  }
  tryAutoOpen();

  $('#btnUnlock').onclick=()=>{
    const code=$('#unlockCode').value.trim(), tx=$('#txHash').value.trim(), file=$('#proof').files[0];
    if(code===SECRET){
      setGate(true); paintPremium(); uMsg.innerHTML='<span class="ok">ƒê√£ m·ªü kh√≥a!</span>';
      if(tx) localStorage.setItem('tx_hash',tx);
      if(file){
        const r=new FileReader();
        r.onload=()=>{ localStorage.setItem('payment_proof', r.result); uMsg.innerHTML+=' ‚Ä¢ <span class="ok">L∆∞u b·∫±ng ch·ª©ng</span>'; };
        r.readAsDataURL(file);
      }
    }else uMsg.innerHTML='<span class="err">M√£ kh√¥ng ƒë√∫ng.</span>';
  };
  $('#btnRemember').onclick=()=>{const code=$('#unlockCode').value.trim(); if(code){localStorage.setItem('unlocked_code',code); uMsg.textContent='ƒê√£ l∆∞u m√£ tr√™n thi·∫øt b·ªã.';}};
  $('#btnLock').onclick=()=>{localStorage.removeItem('unlocked_code');localStorage.removeItem('tx_hash');localStorage.removeItem('payment_proof'); setGate(false); uMsg.textContent='ƒê√£ kho√°.';};

  // affiliates
  const affs=$('#affs'); (cfg.site?.affiliates||cfg.affiliates||[]).forEach(a=>{
    const el=document.createElement('div'); el.className='card fade';
    const desc=a.desc || (a.tag?`Tham gia qua link ƒë·ªëi t√°c ¬∑ ${a.tag}`:'Tham gia qua link ƒë·ªëi t√°c');
    el.innerHTML=`<div class="flex"><h4 style="margin:0">${a.name}</h4><a class="badgelink" target="_blank" href="${a.url}">Tham gia ‚Üó</a></div><div class="muted">${desc}</div>`;
    affs.appendChild(el);
  });

  // bundles (10 ch·ªß l·ª±c) ‚Äì ƒë·ªçc t·ª´ config.store.bundles n·∫øu c√≥
  const bd=$('#bundles'); (cfg.store?.bundles||[
    {title:"Signal Pack ‚Ä¢ Daily",price:"29",sla:"24h",desc:"G√≥i t√≠n hi·ªáu nhanh + recap ng√†y.",tags:["signal","alpha","daily"]},
    {title:"Macro Radar ‚Ä¢ Weekly",price:"59",sla:"Tu·∫ßn",desc:"T·ªïng h·ª£p macro + d√≤ng ti·ªÅn.",tags:["macro","fundflow"]},
    {title:"DeFi Hunting ‚Ä¢ Pro",price:"99",sla:"Pro",desc:"SƒÉn pool/airdrop, c∆° h·ªôi hi·ªáu su·∫•t cao.",tags:["defi","airdrop"]}
  ]).forEach(b=>{
    const el=document.createElement('div'); el.className='card fade';
    const tags=(b.tags||[]).map(t=>`<span class="tag">${t}</span>`).join('');
    el.innerHTML=`<div class="flex"><h4 style="margin:0">${b.title}</h4><span class="badgelink">$${b.price}</span>${b.sla?`<span class="badgelink">${b.sla}</span>`:''}</div>
      <div class="muted">${b.desc||''}</div><div style="margin-top:6px">${tags}</div>
      <div class="row" style="margin-top:10px"><button class="btn" onclick="document.getElementById('unlockCode').focus()">Mua & nh·∫≠p m√£ ƒë·ªÉ xem</button>${b.link?`<a class="btn out" target="_blank" href="${b.link}">Demo</a>`:''}</div>`;
    bd.appendChild(el);
  });

})();
</script>
</body>
</html>
