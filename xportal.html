<!doctype html>
<html lang="vi">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>LightUnfold ‚Ä¢ Portal (v3.1)</title>
<meta name="theme-color" content="#0b0f13" />
<meta name="description" content="C·ªïng v√†o LightUnfold ‚Ä¢ Web3 AI X1000: gi·ªõi thi·ªáu, b·∫±ng ch·ª©ng gi√° tr·ªã, CTA thanh to√°n, g√≥i premium, affiliate. Si√™u nh·∫π, t·ª± ƒë·ªông 24/7." />
<style>
  :root{--bg:#0b0f13;--card:#0f141a;--border:#1f2a3a;--text:#e9eef4;--muted:#9fb3c8;--acc:#ff9800;--pill:#121922;--good:#20c997}
  *{box-sizing:border-box} html,body{margin:0;background:var(--bg);color:var(--text);font:15px/1.55 system-ui,-apple-system,Segoe UI,Roboto}
  a{color:#7dc1ff;text-decoration:none} a:hover{opacity:.9}
  .wrap{max-width:1100px;margin:0 auto;padding:20px}
  .pill{display:inline-flex;gap:8px;align-items:center;background:var(--pill);border:1px solid var(--border);border-radius:999px;padding:6px 12px}
  .row{display:flex;gap:10px;flex-wrap:wrap;align-items:center}
  .card{background:var(--card);border:1px solid var(--border);border-radius:16px;padding:18px;margin-top:14px}
  h1{font-size:32px;margin:10px 0 6px} h2{margin:0 0 8px} h3{margin:0 0 8px}
  .muted{color:var(--muted)}
  .btn{background:var(--acc);color:#1a1200;border:0;border-radius:12px;padding:12px 16px;font-weight:800;cursor:pointer}
  .btn.ghost{background:transparent;border:1px solid var(--border);color:var(--text)}
  .grid{display:grid;gap:14px;grid-template-columns:repeat(auto-fit,minmax(260px,1fr))}
  .kpi{display:grid;gap:10px;grid-template-columns:repeat(auto-fit,minmax(180px,1fr));margin-top:12px}
  .kpi .box{background:var(--pill);border:1px solid var(--border);border-radius:14px;padding:12px}
  .big{font-size:22px;font-weight:900}
  .ticker{overflow:hidden;white-space:nowrap;border-top:1px dashed var(--border);border-bottom:1px dashed var(--border);padding:8px 0;margin-top:8px}
  .marquee{display:inline-block;animation:scroll 22s linear infinite}
  @keyframes scroll{from{transform:translateX(0)}to{transform:translateX(-50%)}}
  .badge{border:1px solid var(--border);border-radius:999px;padding:6px 10px}
  .ok{color:var(--good)} .center{text-align:center}
  .qr{background:#fff;border-radius:12px;padding:8px;display:block}
  .foot{padding:28px 0;color:var(--muted);text-align:center}
</style>
</head>
<body>
<div class="wrap">

  <!-- Top pills -->
  <div class="row">
    <span class="pill">ENS: <b id="ens">‚Äî</b></span>
    <span class="pill">Heartbeat: <b id="hb">‚Äî</b></span>
    <a class="pill" href="config.json" target="_blank" rel="noopener">config</a>
    <a class="pill" href="data/latest.json" target="_blank" rel="noopener">data</a>
    <button class="pill" id="lang">VI / EN</button>
    <button class="pill" id="theme">üåó</button>
  </div>

  <!-- HERO -->
  <div class="card">
    <h1 id="brand">LightUnfold ‚Ä¢ Web3 AI X1000</h1>
    <div class="muted" id="tagline">‚Äî</div>

    <div class="kpi">
      <div class="box">
        <div class="muted" id="k1lbl">C∆° h·ªôi ƒëang hi·ªÉn th·ªã</div>
        <div class="big" id="k-opps">0</div>
      </div>
      <div class="box">
        <div class="muted" id="k2lbl">L·∫ßn c·∫≠p nh·∫≠t</div>
        <div class="big" id="k-upd">‚Äî</div>
      </div>
      <div class="box">
        <div class="muted" id="k3lbl">Ng√¥n ng·ªØ</div>
        <div class="big" id="k-loc">vi/en</div>
      </div>
    </div>

    <div class="row" style="margin-top:12px">
      <a class="btn" href="index.html" id="cta-app">üöÄ V√†o ·ª®ng D·ª•ng AI</a>
      <a class="btn ghost" href="#buy" id="cta-buy">üí≥ Mua quy·ªÅn xem Premium</a>
    </div>

    <div class="ticker"><div id="tick" class="marquee">‚Äî</div></div>
  </div>

  <!-- L√ù DO / SOCIAL PROOF -->
  <div class="card">
    <h2 id="whyTitle">V√¨ sao LightUnfold kh√°c bi·ªát?</h2>
    <div class="grid">
      <div><h3>‚ö° <span id="b1H">T·ªëc ƒë·ªô & t·ª± ƒë·ªông</span></h3><div class="muted" id="b1">Cron 24/7 qu√©t ƒëa ngu·ªìn, h·ª£p nh·∫•t & x·∫øp h·∫°ng theo ƒëi·ªÉm ƒë·ªông l·ª±c (momentum + volume).</div></div>
      <div><h3>üß† <span id="b2H">T√≥m t·∫Øt AI</span></h3><div class="muted" id="b2">Sinh m√¥ t·∫£ ng·∫Øn g·ªçn ‚Äúƒëi·ªÉm ch·ªõp th·ªùi c∆°‚Äù ƒë·ªÉ ng∆∞·ªùi m·ªõi c≈©ng n·∫Øm ƒë∆∞·ª£c trong 10 gi√¢y.</div></div>
      <div><h3>üîí <span id="b3H">Paywall th√¥ng minh</span></h3><div class="muted" id="b3">M√£ m·ªü kh√≥a sau thanh to√°n (on/off-chain), l∆∞u c·ª•c b·ªô ‚Äì b·∫°n kh√¥ng c·∫ßn duy·ªát tay.</div></div>
      <div><h3>üåé <span id="b4H">ƒêa ng√¥n ng·ªØ</span></h3><div class="muted" id="b4">T·ª± ƒë·ªïi VI/EN; d·ªÖ m·ªü r·ªông 200+ ng√¥n ng·ªØ khi c·∫ßn.</div></div>
    </div>
  </div>

  <!-- G√ìI PREMIUM / BUNDLE -->
  <div class="card" id="buy">
    <div class="row"><h2 style="margin:0" id="planTitle">üß∞ G√≥i Premium</h2><span class="badge" id="plan-sla">‚Äî</span></div>
    <div class="grid" id="plans"></div>
    <div class="center" style="margin-top:10px"><a class="btn" href="index.html#unlock" id="planCta">Mua & nh·∫≠p m√£ m·ªü kh√≥a</a></div>
  </div>

  <!-- THANH TO√ÅN T·∫ÆT / CTA NHANH -->
  <div class="card">
    <h2 id="payTitle">Thanh to√°n nhanh</h2>
    <div class="grid" id="quickpay"></div>
  </div>

  <!-- AFFILIATES -->
  <div class="card">
    <h2 id="affTitle">ƒê·ªëi t√°c</h2>
    <div class="grid" id="affs"></div>
  </div>

  <div class="foot">¬© <span id="year"></span> LightUnfold ‚Äî Portal ‚Ä¢ <span id="footAuto">T·ª± ƒë·ªông 24/7</span></div>
</div>

<script>
(async function(){
  const $=s=>document.querySelector(s);
  const num=n=>(n||0).toLocaleString(undefined,{maximumFractionDigits:2});
  const ago=iso=>{try{const d=new Date(iso);const s=(Date.now()-d)/1e3;return s<60?Math.floor(s)+"s":s<3600?Math.floor(s/60)+"m":s<86400?Math.floor(s/3600)+"h":Math.floor(s/86400)+"d";}catch(e){return"‚Äî"}};
  const DARK={"--bg":"#0b0f13","--card":"#0f141a","--border":"#1f2a3a","--text":"#e9eef4","--muted":"#9fb3c8"};
  const LIGHT={"--bg":"#f8fafc","--card":"#ffffff","--border":"#e2e8f0","--text":"#0b0f13","--muted":"#4a5568"};
  function themeApply(m){const v=(m==='light'?LIGHT:DARK);for(const k in v)document.documentElement.style.setProperty(k,v[k]);}
  let theme=localStorage.getItem("theme")||"dark"; themeApply(theme);
  $('#theme').onclick=()=>{theme=(theme==='dark'?'light':'dark');localStorage.setItem('theme',theme);themeApply(theme);};
  $('#year').textContent=new Date().getFullYear();

  // i18n
  const I={
    vi:{k1:"C∆° h·ªôi ƒëang hi·ªÉn th·ªã",k2:"L·∫ßn c·∫≠p nh·∫≠t",k3:"Ng√¥n ng·ªØ",ctaApp:"üöÄ V√†o ·ª®ng D·ª•ng AI",ctaBuy:"üí≥ Mua quy·ªÅn xem Premium",
        why:"V√¨ sao LightUnfold kh√°c bi·ªát?",b1H:"T·ªëc ƒë·ªô & t·ª± ƒë·ªông",b1:"Cron 24/7 qu√©t ƒëa ngu·ªìn, h·ª£p nh·∫•t & x·∫øp h·∫°ng theo ƒëi·ªÉm ƒë·ªông l·ª±c (momentum + volume).",
        b2H:"T√≥m t·∫Øt AI",b2:"Sinh m√¥ t·∫£ ng·∫Øn g·ªçn ‚Äúƒëi·ªÉm ch·ªõp th·ªùi c∆°‚Äù ƒë·ªÉ ng∆∞·ªùi m·ªõi c≈©ng n·∫Øm ƒë∆∞·ª£c trong 10 gi√¢y.",
        b3H:"Paywall th√¥ng minh",b3:"M√£ m·ªü kh√≥a sau thanh to√°n (on/off-chain), l∆∞u c·ª•c b·ªô ‚Äì b·∫°n kh√¥ng c·∫ßn duy·ªát tay.",
        b4H:"ƒêa ng√¥n ng·ªØ",b4:"T·ª± ƒë·ªïi VI/EN; d·ªÖ m·ªü r·ªông 200+ ng√¥n ng·ªØ khi c·∫ßn.",
        plan:"üß∞ G√≥i Premium",planCta:"Mua & nh·∫≠p m√£ m·ªü kh√≥a",
        pay:"Thanh to√°n nhanh",aff:"ƒê·ªëi t√°c",foot:"T·ª± ƒë·ªông 24/7"},
    en:{k1:"Opportunities visible",k2:"Last update",k3:"Languages",ctaApp:"üöÄ Open AI App",ctaBuy:"üí≥ Buy Premium Access",
        why:"Why LightUnfold is different",b1H:"Speed & automation",b1:"24/7 cron scans multi‚Äësources, unifies & ranks by momentum + volume.",
        b2H:"AI summaries",b2:"10‚Äësecond ‚Äòwhy it matters‚Äô snippets for quick decisions.",
        b3H:"Smart paywall",b3:"Unlock code after on/off‚Äëchain payment; stored locally, no manual review.",
        b4H:"Multi‚Äëlanguage",b4:"Quick VI/EN toggle; ready for 200+ languages.",
        plan:"üß∞ Premium Packages",planCta:"Buy & enter unlock code",
        pay:"Quick Payments",aff:"Affiliates",foot:"Always‚Äëon 24/7"}
  };
  let LANG=(localStorage.getItem("lang")||navigator.language||"vi").slice(0,2).toLowerCase().startsWith("vi")?"vi":"en";
  function applyI18n(){
    const L=I[LANG];
    $('#k1lbl').textContent=L.k1; $('#k2lbl').textContent=L.k2; $('#k3lbl').textContent=L.k3;
    $('#cta-app').textContent=L.ctaApp; $('#cta-buy').textContent=L.ctaBuy;
    $('#whyTitle').textContent=L.why; $('#b1H').textContent=L.b1H; $('#b1').textContent=L.b1;
    $('#b2H').textContent=L.b2H; $('#b2').textContent=L.b2; $('#b3H').textContent=L.b3H; $('#b3').textContent=L.b3;
    $('#b4H').textContent=L.b4H; $('#b4').textContent=L.b4;
    $('#planTitle').textContent=L.plan; $('#planCta').textContent=L.planCta;
    $('#payTitle').textContent=L.pay; $('#affTitle').textContent=L.aff; $('#footAuto').textContent=L.foot;
    $('#lang').textContent = LANG==='vi' ? 'VI / EN' : 'EN / VI';
  }
  $('#lang').onclick=()=>{LANG=(LANG==='vi'?'en':'vi');localStorage.setItem('lang',LANG);applyI18n();};
  applyI18n();

  async function getJSON(url,key){
    try{const j=await (await fetch(url,{cache:'no-store'})).json();localStorage.setItem(key,JSON.stringify(j));return j;}
    catch(e){const c=localStorage.getItem(key);return c?JSON.parse(c):{}}
  }

  // Load config + latest
  const cfg=await getJSON('config.json','cfg');
  const latest=await getJSON('data/latest.json','latest');

  // Header
  $('#brand').textContent = cfg.site?.brand || 'LightUnfold ‚Ä¢ Web3 AI X1000';
  $('#tagline').textContent = cfg.site?.tagline || '20,000+ AI ‚Ä¢ t·ª± ƒë·ªông 24/7';
  $('#ens').textContent = cfg.site?.ens || '‚Äî';
  $('#hb').innerHTML = (latest && Array.isArray(latest.items)) ? '<span class="ok">LIVE</span>' : '‚Äî';
  $('#k-opps').textContent = (latest.items||[]).length||0;
  $('#k-upd').textContent = latest.generated_at ? ago(latest.generated_at) : '‚Äî';
  $('#k-loc').textContent = (cfg.site?.locales||['vi','en']).join('/');

  // Ticker
  const tick = (latest.items||[]).slice(0,20).map(x=>`${x.symbol}: $${num(x.price)} (${(x.ch24h||0).toFixed(2)}%)`).join(' ‚Ä¢ ');
  $('#tick').textContent = tick || '‚Äî';

  // Plans
  const plans = (cfg.store?.bundles && cfg.store.bundles.length) ? cfg.store.bundles : [
    {title:"Alpha Feed Pro", desc:"B·∫£n tin alpha t·ªëc ƒë·ªô cao, ∆∞u ti√™n l·ªách pha th·ªã tr∆∞·ªùng.", price:19, tags:["ms-speed","moneyflow"], sla:"5-10m"},
    {title:"Premium Signals", desc:"B·ªô l·ªçc momentum + volume + risk.", price:49, tags:["signals","momentum"], sla:"10m"},
    {title:"VIP Research", desc:"B√°o c√°o chuy√™n s√¢u + backtest.", price:199, tags:["deep research"], sla:"24h"}
  ];
  $('#plan-sla').textContent = "SLA: " + (plans.map(p=>p.sla).filter(Boolean).join(", ")||"‚Äî");
  const plansWrap = $('#plans');
  plansWrap.innerHTML = "";
  plans.forEach(p=>{
    const el=document.createElement('div'); el.className='card';
    el.innerHTML=`<h3 style="margin:0">${p.title}</h3>
      <div class="muted">${p.desc||''}</div>
      <div class="row" style="margin-top:8px">
        <span class="badge">$${p.price}</span>
        ${(p.tags||[]).map(t=>`<span class="badge">${t}</span>`).join('')}
      </div>`;
    plansWrap.appendChild(el);
  });

  // Quick payments ‚Äî t∆∞∆°ng th√≠ch c·∫•u tr√∫c m·ªõi (site.payments.chains + offchain)
  const pSite = cfg.site?.payments || {};
  const pRoot = cfg.payments || {}; // fallback
  const chains = pSite.chains || pRoot.chains || [];           // m·∫£ng {name,address,explorer,min}
  const off    = pSite.offchain || pRoot.offchain || {};       // {momo, vietcombank, paypal}

  function QR(text,size=180){const u=`https://api.qrserver.com/v1/create-qr-code/?size=${size}x${size}&data=${encodeURIComponent(text)}`;return `<img class="qr" width="${size}" height="${size}" src="${u}" alt="QR">`}
  const qpWrap = $('#quickpay'); qpWrap.innerHTML = "";

  // on-chain
  chains.forEach(c=>{
    const el=document.createElement('div'); el.className='card';
    el.innerHTML=`<h3 style="margin:0">${c.name}</h3>
      <div class="grid" style="align-items:center">
        <div>${QR(c.address)}</div>
        <div>
          <div class="muted">${c.min?`Min: ${c.min}`:''}</div>
          <div class="row" style="margin-top:8px;align-items:center">
            <a class="badge" target="_blank" rel="noopener" href="${c.explorer||'#'}">${c.address}</a>
            <button class="btn" onclick="navigator.clipboard.writeText('${c.address}')">${LANG==='vi'?'Sao ch√©p':'Copy'}</button>
            <a class="btn ghost" target="_blank" rel="noopener" href="https://metamask.app.link/">${LANG==='vi'?'M·ªü v√≠/·ª©ng d·ª•ng':'Open wallet/app'} ‚Üó</a>
          </div>
        </div>
      </div>`;
    qpWrap.appendChild(el);
  });

  // off‚Äëchain
  const offList = [
    off.momo ? {label:'MoMo', val:off.momo, hint:(LANG==='vi'?'V√≠ MoMo Vi·ªát Nam.':'Vietnam MoMo wallet.')} : null,
    off.vietcombank ? {label:'Vietcombank', val:off.vietcombank, hint:(LANG==='vi'?'Chuy·ªÉn kho·∫£n VCB.':'VCB bank transfer.')} : null,
    off.paypal ? {label:'PayPal', val:off.paypal, hint:(LANG==='vi'?'Thanh to√°n PayPal.':'Pay via PayPal.'), link:`https://www.paypal.me/${String(off.paypal).split('@')[0]}`} : null
  ].filter(Boolean);
  offList.forEach(p=>{
    const el=document.createElement('div'); el.className='card';
    el.innerHTML=`<h3 style="margin:0">${p.label}</h3>
      <div class="grid" style="align-items:center">
        <div>${QR(p.val)}</div>
        <div>
          <div class="muted">${p.hint||''}</div>
          <div class="row" style="margin-top:8px;align-items:center">
            <span class="badge">${p.val}</span>
            <button class="btn" onclick="navigator.clipboard.writeText('${p.val}')">${LANG==='vi'?'Sao ch√©p':'Copy'}</button>
            ${p.link?`<a class="btn ghost" target="_blank" rel="noopener" href="${p.link}">PayPal.me ‚Üó</a>`:''}
          </div>
        </div>
      </div>`;
    qpWrap.appendChild(el);
  });

  // Affiliates ‚Äî clickable
  const affWrap = $('#affs'); affWrap.innerHTML = "";
  (cfg.site?.affiliates||cfg.affiliates||[]).forEach(a=>{
    const el=document.createElement('div'); el.className='card';
    el.innerHTML=`<div class="row" style="justify-content:space-between;align-items:center">
        <h3 style="margin:0">${a.name}</h3>
        <a class="badge" target="_blank" rel="noopener" href="${a.url}">${LANG==='vi'?'Tham gia':'Join'} ‚Üó</a>
      </div>
      <div class="muted">${a.tag||''}</div>`;
    affWrap.appendChild(el);
  });

  // Brand/topline
  $('#brand').textContent = cfg.site?.brand || 'LightUnfold ‚Ä¢ Web3 AI X1000';
  $('#tagline').textContent = cfg.site?.tagline || '';

})();
</script>
</body>
</html>
