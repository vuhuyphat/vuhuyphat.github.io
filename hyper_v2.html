<!doctype html>
<html lang="vi">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>LightUnfold ‚Ä¢ Web3 AI X1000 ‚Äì Hyper v2</title>
<meta name="description" content="Web3 AI t·ª± ƒë·ªông 24/7: c∆° h·ªôi n·ªïi b·∫≠t, thanh to√°n QR, n·ªôi dung cao c·∫•p v·ªõi m√£ m·ªü kh√≥a, ƒëa ng√¥n ng·ªØ, si√™u nh·∫π.">
<meta name="theme-color" content="#0b0f13">
<meta property="og:type" content="website">
<meta property="og:title" content="LightUnfold ‚Ä¢ Web3 AI X1000 ‚Äì Hyper v2">
<meta property="og:description" content="Web3 AI t·ª± ƒë·ªông 24/7: c∆° h·ªôi n·ªïi b·∫≠t, thanh to√°n QR, n·ªôi dung cao c·∫•p v·ªõi m√£ m·ªü kh√≥a, ƒëa ng√¥n ng·ªØ, si√™u nh·∫π.">
<link rel="preconnect" href="https://chart.googleapis.com">
<style>
  :root{
    --bg:#0b0f13;--card:#0f141a;--border:#1f2a3a;--text:#e9eef4;--muted:#9fb3c8;
    --accent:#ff9800;--good:#2ecc71;--bad:#ff4d4f;--pill:#121922;--link:#7dc1ff
  }
  *{box-sizing:border-box} html,body{margin:0;background:var(--bg);color:var(--text);font:15px/1.55 system-ui,-apple-system,Segoe UI,Roboto}
  a{color:var(--link);text-decoration:none} a:hover{opacity:.9}
  .wrap{max-width:1120px;margin:0 auto;padding:18px}
  .row{display:flex;gap:10px;flex-wrap:wrap;align-items:center}
  .pill{background:var(--pill);border:1px solid var(--border);border-radius:999px;padding:6px 10px}
  .card{background:var(--card);border:1px solid var(--border);border-radius:14px;padding:16px;margin-top:14px}
  h1{margin:8px 0 6px;font-size:28px}
  h3{margin:0 0 10px}
  .muted{color:var(--muted)}
  .grid{display:grid;gap:14px;grid-template-columns:repeat(auto-fit,minmax(260px,1fr))}
  .btn{background:var(--accent);color:#1a1200;border:0;border-radius:10px;padding:10px 14px;font-weight:700;cursor:pointer}
  .btn.out{background:transparent;border:1px solid var(--border);color:var(--text)}
  .switch{cursor:pointer}
  .ticker{overflow:hidden;white-space:nowrap;border-top:1px dashed var(--border);border-bottom:1px dashed var(--border);padding:8px 0;margin-top:8px}
  .ticker span{display:inline-block;margin-right:20px}
  .chip{display:inline-block;border-radius:8px;padding:2px 8px;margin-left:6px;font-weight:700}
  .pos{background:rgba(46,204,113,.15);color:var(--good);border:1px solid rgba(46,204,113,.35)}
  .neg{background:rgba(255,77,79,.15);color:var(--bad);border:1px solid rgba(255,77,79,.35)}
  .kpi{display:flex;gap:10px;flex-wrap:wrap;margin:10px 0}
  .kpi .box{flex:1 1 160px;background:var(--pill);border:1px solid var(--border);border-radius:12px;padding:10px}
  .now{font-size:22px;font-weight:800}
  .item{border-top:1px dashed var(--border);padding:12px 0}
  .flex{display:flex;gap:12px;flex-wrap:wrap;align-items:center}
  .price{font-weight:800}
  .vol{color:#b6c3cf}
  .badgelink{padding:6px 10px;border:1px solid var(--border);border-radius:999px}
  .paygrid{display:grid;gap:12px;grid-template-columns:repeat(auto-fit,minmax(240px,1fr))}
  .qr{background:#fff;padding:8px;border-radius:10px}
  .field{display:flex;gap:8px;align-items:center}
  input,select,textarea{width:100%;background:#0b1117;border:1px solid var(--border);color:var(--text);border-radius:10px;padding:10px}
  .ok{color:var(--good)} .err{color:var(--bad)}
  .tag{display:inline-block;background:#0b1117;border:1px solid var(--border);padding:6px 10px;border-radius:10px;margin:4px 6px 0 0}
  .footer{padding:30px 0;text-align:center;color:var(--muted)}
  .hidden{display:none}
  .fade{animation:fade .6s ease}
  @keyframes fade{from{opacity:0;transform:translateY(4px)} to{opacity:1;transform:translateY(0)}}
  .marquee{display:inline-block;animation:scroll 22s linear infinite}
  @keyframes scroll{from{transform:translateX(0)} to{transform:translateX(-50%)}}
  .cta{display:flex;gap:10px;flex-wrap:wrap;margin-top:10px}
</style>
</head>
<body>
<div class="wrap">
  <!-- Top pills -->
  <div class="row">
    <span class="pill">ENS: <b id="ens">‚Äî</b></span>
    <span class="pill">Heartbeat: <b id="hb">‚Äî</b></span>
    <a class="pill" href="config.json" target="_blank">config</a>
    <a class="pill" href="data/latest.json" target="_blank">data</a>
    <span class="pill switch" id="langSwitch">VI / EN</span>
    <span class="pill switch" id="themeSwitch">üåó Theme</span>
  </div>

  <!-- Header -->
  <h1 id="brand">Web3 AI ‚Ä¢ Hyper v2</h1>
  <div class="muted" id="tagline">‚Äî</div>

  <!-- KPI -->
  <div class="kpi">
    <div class="box"><div class="muted" data-i="kpi_opps">C∆° h·ªôi</div><div class="now" id="kOpps">0</div></div>
    <div class="box"><div class="muted" data-i="kpi_24h">C·∫≠p nh·∫≠t</div><div class="now" id="kUpd">‚Äî</div></div>
    <div class="box"><div class="muted" data-i="kpi_locale">Ng√¥n ng·ªØ</div><div class="now" id="kLoc">vi/en</div></div>
  </div>

  <!-- Opportunities -->
  <div class="card">
    <div class="flex">
      <h3 style="margin:0" data-i="hot_opp">üî• C∆° h·ªôi n·ªïi b·∫≠t</h3>
      <span class="badgelink" id="scanMode">qu√©t: data</span>
      <span class="badgelink switch" id="refreshNow">‚Üª l√†m m·ªõi</span>
      <span class="badgelink" id="autoTick">auto: on</span>
    </div>
    <div id="opps" class="fade"></div>
    <div class="ticker"><div id="ticker" class="marquee"></div></div>
    <div class="cta">
      <button class="btn" id="btnSubscribe">üîî Nh·∫≠n c·∫£nh b√°o (mi·ªÖn ph√≠)</button>
      <a class="btn out" target="_blank" id="btnJoinTG" href="#">Tham gia k√™nh Telegram</a>
    </div>
  </div>

  <!-- Payments -->
  <div class="card">
    <h3 style="margin:0 0 8px" data-i="pay_title">üí≥ Thanh to√°n</h3>
    <div id="pays" class="paygrid"></div>
    <div class="muted" style="margin-top:6px" data-i="pay_hint">
      Qu√©t QR / click ƒë·ªÉ thanh to√°n nhanh. Sau khi thanh to√°n, d√πng m√£ m·ªü kh√≥a ƒë·ªÉ xem n·ªôi dung cao c·∫•p.
    </div>
  </div>

  <!-- Premium gate -->
  <div class="card">
    <h3 style="margin:0 0 8px" data-i="unlock_title">üîì N·ªôi dung cao c·∫•p</h3>
    <div id="gate-locked">
      <div class="grid">
        <div>
          <div class="field"><input id="unlockCode" placeholder="Nh·∫≠p m√£ m·ªü kh√≥a (t·ª´ ch·ªß trang)"></div>
          <div class="field"><input id="txHash" placeholder="(Tu·ª≥ ch·ªçn) D√°n TX hash / ghi ch√∫ thanh to√°n"></div>
          <div class="row">
            <button class="btn" id="btnUnlock">M·ªü kh√≥a</button>
            <button class="btn out" id="btnRemember">Nh·ªõ tr√™n thi·∫øt b·ªã</button>
          </div>
          <div id="uMsg" class="muted" style="margin-top:6px"></div>
        </div>
        <div class="muted">
          <b data-i="unlock_how">C√°ch ho·∫°t ƒë·ªông:</b>
          <ul>
            <li data-i="unlock_li1">B·∫°n nh·∫≠n m√£ sau khi thanh to√°n (ETH/USDT/MoMo/VCB/PayPal‚Ä¶)</li>
            <li data-i="unlock_li2">Nh·∫≠p m√£ ƒë·ªÉ m·ªü kh√≥a n·ªôi dung cao c·∫•p, l∆∞u tr√™n thi·∫øt b·ªã c·ªßa b·∫°n</li>
            <li data-i="unlock_li3">D√°n TX hash (tu·ª≥ ch·ªçn) ƒë·ªÉ ghi ch√∫ ‚Äî hi·ªÉn th·ªã trong thi·∫øt b·ªã b·∫°n</li>
          </ul>
        </div>
      </div>
    </div>
    <div id="gate-open" class="hidden">
      <div class="row"><span class="pill ok">‚úî ƒê√£ m·ªü kh√≥a</span><button class="btn out" id="btnLock">Kho√° l·∫°i</button></div>
      <div class="grid" id="premium"></div>
    </div>
  </div>

  <!-- Affiliates -->
  <div class="card">
    <h3 style="margin:0 0 8px">ü§ù Affiliate</h3>
    <div id="affs" class="grid"></div>
  </div>

  <!-- Bundles / 10 ch·ªß l·ª±c -->
  <div class="card">
    <h3 style="margin:0 0 8px" data-i="bundle_title">üß∞ G√≥i s·∫£n ph·∫©m / b√°o c√°o</h3>
    <div id="bundles" class="grid"></div>
  </div>

  <!-- Footer -->
  <div class="footer">¬© <span id="year"></span> <span id="brandFoot">LightUnfold</span> ‚Ä¢ T·ª± ƒë·ªông 24/7 ‚Ä¢ Hyper v2</div>
</div>

<script>
(async function(){
  // ===== i18n =====
  const T = {
    vi:{kpi_opps:"C∆° h·ªôi",kpi_24h:"C·∫≠p nh·∫≠t",kpi_locale:"Ng√¥n ng·ªØ",hot_opp:"üî• C∆° h·ªôi n·ªïi b·∫≠t",
        pay_title:"üí≥ Thanh to√°n",pay_hint:"Qu√©t QR / click ƒë·ªÉ thanh to√°n nhanh. Sau khi thanh to√°n, d√πng m√£ m·ªü kh√≥a ƒë·ªÉ xem n·ªôi dung cao c·∫•p.",
        unlock_title:"üîì N·ªôi dung cao c·∫•p",unlock_how:"C√°ch ho·∫°t ƒë·ªông:",unlock_li1:"B·∫°n nh·∫≠n m√£ sau khi thanh to√°n (ETH/USDT/MoMo/VCB/PayPal‚Ä¶)",
        unlock_li2:"Nh·∫≠p m√£ ƒë·ªÉ m·ªü kh√≥a n·ªôi dung cao c·∫•p, l∆∞u tr√™n thi·∫øt b·ªã c·ªßa b·∫°n",unlock_li3:"D√°n TX hash (tu·ª≥ ch·ªçn) ƒë·ªÉ ghi ch√∫ ‚Äî hi·ªÉn th·ªã trong thi·∫øt b·ªã b·∫°n",
        bundle_title:"üß∞ G√≥i s·∫£n ph·∫©m / b√°o c√°o"},
    en:{kpi_opps:"Opportunities",kpi_24h:"Updated",kpi_locale:"Locales",hot_opp:"üî• Hot opportunities",
        pay_title:"üí≥ Payments",pay_hint:"Scan or click to pay. After payment, enter code to access premium content.",
        unlock_title:"üîì Premium Content",unlock_how:"How it works:",unlock_li1:"You receive a code after payment (ETH/USDT/MoMo/VCB/PayPal‚Ä¶)",
        unlock_li2:"Enter code to unlock premium content, stored on your device",unlock_li3:"Paste TX hash (optional) ‚Äî kept on your device",
        bundle_title:"üß∞ Bundles / Reports"}
  };
  const $=s=>document.querySelector(s), $$=s=>document.querySelectorAll(s);
  let LANG=(localStorage.getItem("lang")||(navigator.language||"vi")).slice(0,2).toLowerCase().startsWith("vi")?"vi":"en";
  function i18n(){ $('#langSwitch').innerText=(LANG==='vi'?'VI / EN':'EN / VI'); $$('[data-i]').forEach(el=>{const k=el.getAttribute('data-i'); if(T[LANG][k]) el.textContent=T[LANG][k];}); }
  $('#langSwitch').onclick=()=>{LANG=(LANG==='vi'?'en':'vi');localStorage.setItem('lang',LANG);i18n();}; i18n();

  // ===== theme switch (light/dark) =====
  const DARK = {"--bg":"#0b0f13","--card":"#0f141a","--border":"#1f2a3a","--text":"#e9eef4","--muted":"#9fb3c8","--link":"#7dc1ff"};
  const LIGHT= {"--bg":"#f7fafc","--card":"#ffffff","--border":"#e2e8f0","--text":"#0b0f13","--muted":"#4a5568","--link":"#2563eb"};
  function applyTheme(mode){const vars=(mode==='light'?LIGHT:DARK);for(const k in vars)document.documentElement.style.setProperty(k,vars[k]);}
  let theme=localStorage.getItem("theme")||"dark"; applyTheme(theme);
  $('#themeSwitch').onclick=()=>{theme=(theme==='dark'?'light':'dark');localStorage.setItem('theme',theme);applyTheme(theme);};

  // ===== utils =====
  const num=n=>(n||0).toLocaleString(undefined,{maximumFractionDigits:2});
  const ago=iso=>{try{const d=new Date(iso);const s=(Date.now()-d)/1e3;return s<60?Math.floor(s)+"s":s<3600?Math.floor(s/60)+"m":s<86400?Math.floor(s/3600)+"h":Math.floor(s/86400)+"d";}catch(e){return"‚Äî"}};
  const animate=(el,to,ms=600)=>{const from=Number((el.textContent||"0").replace(/[, ]/g,''))||0;const st=performance.now();const step=t=>{const p=Math.min(1,(t-st)/ms);el.textContent=num(from+(to-from)*p);if(p<1)requestAnimationFrame(step)};requestAnimationFrame(step)};
  const sleep=ms=>new Promise(r=>setTimeout(r,ms));

  // ===== fetch config + data (fallback cache) =====
  async function getJSON(url,key){
    try{
      const j=await (await fetch(url,{cache:'no-store'})).json();
      localStorage.setItem(key,JSON.stringify(j));
      return j;
    }catch(e){
      const cached=localStorage.getItem(key); return cached?JSON.parse(cached):{};
    }
  }
  const cfg=await getJSON('config.json','cfg');
  let latest=await getJSON('data/latest.json','latest');
  if(latest.items) $('#hb').textContent='LIVE';

  // ===== header / KPIs =====
  const brand = cfg.site?.brand || 'LightUnfold ‚Ä¢ Web3 AI X1000';
  $('#brand').textContent = brand;
  $('#brandFoot').textContent = brand.split('‚Ä¢')[0].trim() || 'LightUnfold';
  $('#tagline').textContent=cfg.site?.tagline||'T·ª± ƒë·ªông 24/7';
  $('#ens').textContent=cfg.site?.ens||'‚Äî';
  $('#year').textContent=new Date().getFullYear();

  const items=(latest.items||[]);
  animate($('#kOpps'), items.length||0);
  $('#kUpd').textContent=latest.generated_at?ago(latest.generated_at):'‚Äî';
  $('#kLoc').textContent=(cfg.site?.locales||['vi','en']).join('/');

  // ===== CTA social =====
  const tg = (cfg.social&&cfg.social.telegram_channel)||'https://t.me/your_channel';
  $('#btnJoinTG').href = tg;
  $('#btnSubscribe').onclick = ()=>{alert(LANG==='vi'?'H√£y b·∫•m Join k√™nh ƒë·ªÉ nh·∫≠n c·∫£nh b√°o.':'Please join our Telegram channel to get alerts.');};

  // ===== render opps + ticker =====
  function renderOpps(list){
    const opp=$('#opps'); opp.innerHTML='';
    const maxItems=(cfg.ui?.cards?.max_items)||10;
    list.slice(0,maxItems).forEach(x=>{
      const pct=x.ch24h??0, ch=`<span class="chip ${pct>=0?'pos':'neg'}">${pct>=0?'+':''}${pct.toFixed(2)}%</span>`;
      const vol=(x.vol24h?`<span class="vol">Vol 24h: $${num(x.vol24h)}</span>`:'');
      const link=x.link?`<a class="badgelink" href="${x.link}" target="_blank">Chi ti·∫øt ‚Üó</a>`:'';
      const el=document.createElement('div'); el.className='item fade';
      el.innerHTML=`<div class="flex"><div><b>${x.symbol}</b> ¬∑ ${x.name||''}</div><div class="price">$${num(x.price)}</div>${ch}${link}</div>
                    <div class="muted">${vol} ¬∑ Ngu·ªìn: ${x.source||'‚Äî'}</div>`;
      opp.appendChild(el);
    });
    $('#ticker').innerHTML=list.map(x=>`<span>${x.symbol}: $${num(x.price)} (${(x.ch24h||0).toFixed(2)}%)</span>`).join('')||'<span>‚Äî</span>';
  }
  renderOpps(items);

  // ===== auto refresh (theo config.schedule.refresh_minutes) + manual click =====
  let auto=true;
  const every = Math.max(3, Number((cfg.schedule&&cfg.schedule.refresh_minutes)||10));
  async function refresh(){
    latest=await getJSON('data/latest.json','latest');
    renderOpps(latest.items||[]);
    $('#hb').textContent='LIVE';
    $('#kUpd').textContent=latest.generated_at?ago(latest.generated_at):'‚Äî';
    animate($('#kOpps'), (latest.items||[]).length||0);
  }
  $('#refreshNow').onclick=refresh;
  $('#autoTick').onclick=()=>{auto=!auto; $('#autoTick').textContent='auto: '+(auto?'on':'off');}
  ;(async function loop(){ while(true){ if(auto) await refresh(); await sleep(every*60*1000);} })();

  // ===== payments =====
  const paysWrap=$('#pays'); const pays=cfg.site?.payments||{};
  function QR(text,size=180){const u=`https://chart.googleapis.com/chart?cht=qr&chs=${size}x${size}&chl=${encodeURIComponent(text)}`;return `<img class="qr" alt="QR" width="${size}" height="${size}" src="${u}">`;}
  function cardPay(title,desc,addr,clickUrl){const html=`<div class="card"><div class="flex"><h4 style="margin:0">${title}</h4>${clickUrl?`<a class="badgelink" href="${clickUrl}" target="_blank">M·ªü ‚Üó</a>`:''}</div>
  <div class="grid"><div>${QR(addr)}</div><div><div class="muted">${desc}</div><div class="field" style="margin-top:8px"><input readonly value="${addr}"></div>
  <div class="row"><button class="btn" onclick="navigator.clipboard.writeText('${addr}');">${LANG==='vi'?'Sao ch√©p':'Copy'}</button><a class="btn out" href="${QR(addr,512).match(/src=\"([^\"]+)/)[1]}" download="qr.png">${LANG==='vi'?'T·∫£i QR':'Download QR'}</a></div></div></div></div>`;
    const d=document.createElement('div'); d.innerHTML=html; return d.firstChild;}
  if(pays.eth) paysWrap.appendChild(cardPay('ETH (EVM)','N·∫°p ETH/USDT tr√™n EVM.',pays.eth,'https://metamask.app.link/'));
  if(pays.usdt_erc20) paysWrap.appendChild(cardPay('USDT (ERC20)','USDT m·∫°ng ERC20.',pays.usdt_erc20));
  if(pays.momo) paysWrap.appendChild(cardPay('MoMo','Thanh to√°n MoMo.',pays.momo));
  if(pays.vietcombank) paysWrap.appendChild(cardPay('Vietcombank','Chuy·ªÉn kho·∫£n VCB.',pays.vietcombank));
  if(pays.paypal){const handle=(pays.paypal||'').split('@')[0];paysWrap.appendChild(cardPay('PayPal','Thanh to√°n PayPal.',pays.paypal,`https://www.paypal.me/${handle}`));}

  // ===== Affiliate =====
  const affs=$('#affs'); (cfg.site?.affiliates||[]).forEach(a=>{const el=document.createElement('div'); el.className='card fade';
    el.innerHTML=`<div class="flex"><h4 style="margin:0">${a.name}</h4><a class="badgelink" target="_blank" href="${a.url}">Tham gia ‚Üó</a></div><div class="muted">${a.desc||''}</div>`;
    affs.appendChild(el);
  });

  // ===== Bundles / 10 ch·ªß l·ª±c =====
  const bd=$('#bundles'); (cfg.store?.bundles||[]).forEach(b=>{const el=document.createElement('div'); el.className='card fade';
    const tags=(b.tags||[]).map(t=>`<span class="tag">${t}</span>`).join('');
    el.innerHTML=`<div class="flex"><h4 style="margin:0">${b.title}</h4><span class="badgelink">$${b.price}</span>${b.sla?`<span class="badgelink">${b.sla}</span>`:''}</div>
    <div class="muted">${b.desc||''}</div><div style="margin-top:6px">${tags}</div>
    <div class="row" style="margin-top:10px"><button class="btn" onclick="document.getElementById('unlockCode').focus()">${LANG==='vi'?'Mua & nh·∫≠p m√£ ƒë·ªÉ xem':'Buy & enter code'}</button>${b.link?`<a class="btn out" target="_blank" href="${b.link}">Demo</a>`:''}</div>`;
    bd.appendChild(el);
  });

  // ===== Paywall (code t·ª´ config.json -> secrets.unlock_code) =====
  const SECRET=String((cfg.secrets&&cfg.secrets.unlock_code)||'X1000VIP');
  const keep=localStorage.getItem('unlocked_code')||'';
  const gateOpen=$('#gate-open'), gateLock=$('#gate-locked'), uMsg=$('#uMsg');
  function setGate(open){gateOpen.classList.toggle('hidden',!open);gateLock.classList.toggle('hidden',open);}
  function paintPremium(){
    const prem=$('#premium'); prem.innerHTML='';
    (cfg.store?.premium||[{title:"Alpha Feed Pro",desc:"D√≤ng tin alpha si√™u nhanh, ∆∞u ti√™n c∆° h·ªôi l·ªách pha th·ªã tr∆∞·ªùng.",bullets:["T·ªëc ƒë·ªô ms","B·ªô l·ªçc r·ªßi ro","B·∫•t th∆∞·ªùng d√≤ng ti·ªÅn"],link:"data/latest.json"}])
      .forEach(p=>{const el=document.createElement('div'); el.className='card fade'; el.innerHTML=`<h4 style="margin:0">${p.title}</h4>
        <div class="muted">${p.desc||''}</div><ul>${(p.bullets||[]).map(x=>`<li>${x}</li>`).join('')}</ul>${p.link?`<a class="badgelink" target="_blank" href="${p.link}">Xem d·ªØ li·ªáu ‚Üó</a>`:''}`; prem.appendChild(el);});
  }
  if(keep===SECRET){ setGate(true); paintPremium(); if(localStorage.getItem('tx_hash')) $('#uMsg').innerHTML='<span class="ok">TX: '+localStorage.getItem('tx_hash')+'</span>'; }
  $('#btnUnlock').onclick=()=>{const code=$('#unlockCode').value.trim(),tx=$('#txHash').value.trim();
    if(code===SECRET){ setGate(true); paintPremium(); uMsg.innerHTML='<span class="ok">'+(LANG==='vi'?'ƒê√£ m·ªü kh√≥a!':'Unlocked!')+'</span>'; if(tx) localStorage.setItem('tx_hash',tx);}
    else uMsg.innerHTML='<span class="err">'+(LANG==='vi'?'M√£ kh√¥ng ƒë√∫ng.':'Invalid code.')+'</span>';};
  $('#btnRemember').onclick=()=>{const code=$('#unlockCode').value.trim(); if(code){localStorage.setItem('unlocked_code',code); uMsg.textContent=(LANG==='vi'?'ƒê√£ l∆∞u tr√™n thi·∫øt b·ªã.':'Saved on device.');}};
  $('#btnLock').onclick=()=>{localStorage.removeItem('unlocked_code'); setGate(false);};

  // ===== Scan mode label =====
  $('#scanMode').textContent = latest.items?'qu√©t: data':'qu√©t: fallback';
})();
</script>
</body>
</html>
