<!doctype html>
<html lang="vi">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>LightUnfold ‚Ä¢ Web3 AI X1000</title>
  <meta name="description" content="Trang Web3 AI t·ª± ƒë·ªông 24/7 ‚Ä¢ 200+ qu·ªëc gia ‚Ä¢ 200+ ng√¥n ng·ªØ ‚Ä¢ chuy·ªÉn ƒë·ªïi X1000">
  <meta property="og:title" content="LightUnfold ‚Ä¢ Web3 AI X1000">
  <meta property="og:description" content="Trang Web3 AI t·ª± ƒë·ªông 24/7 ‚Ä¢ 200+ qu·ªëc gia ‚Ä¢ 200+ ng√¥n ng·ªØ ‚Ä¢ chuy·ªÉn ƒë·ªïi X1000">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://vuhuyphat.github.io/">
  <link rel="preconnect" href="https://api.qrserver.com">
  <style>
    :root{--bg:#0b0f13;--card:#10151c;--line:#1b2533;--text:#e6edf3;--muted:#93a4b9;--brand:#7dc1ff;--accent:#ffb74d;--ok:#34d399;}
    *{box-sizing:border-box} body{margin:0;background:var(--bg);color:var(--text);font:16px/1.55 system-ui,-apple-system,Segoe UI,Roboto}
    a{color:var(--brand);text-decoration:none}
    .wrap{max-width:980px;margin:0 auto;padding:20px}
    .row{display:flex;gap:10px;flex-wrap:wrap}
    .pill{display:inline-flex;gap:6px;align-items:center;padding:6px 10px;border:1px solid var(--line);border-radius:999px;color:#cbd5e1;background:#0e1420}
    .card{background:var(--card);border:1px solid var(--line);border-radius:14px;padding:16px;margin:10px 0}
    .lead{font-size:28px;font-weight:800;margin:10px 0 4px}
    .muted{color:var(--muted)}
    .btn{display:inline-block;background:#1c2430;border:1px solid var(--line);padding:10px 14px;border-radius:10px;color:#fff}
    .btn:hover{filter:brightness(1.1)}
    .btn-warn{background:#2a1b00;border-color:#3b2700;color:#ffcb7f}
    .grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:14px}
    .qr{background:#0b1220;border-radius:12px;border:1px solid var(--line);padding:12px;text-align:center}
    .qr img{width:180px;height:180px;border-radius:10px;display:block;margin:8px auto}
    .addr{font-family:ui-monospace,Menlo,Consolas,monospace;font-size:12px;word-break:break-all;color:#cbd5e1}
    .copy{cursor:pointer;user-select:none;font-size:12px;padding:2px 6px;border:1px dashed var(--line);border-radius:6px;display:inline-block;margin-top:6px;color:#cbd5e1}
    .ok{color:var(--ok)} .warn{color:#fbbf24}
    footer{margin:26px 0 12px;color:#94a3b8;text-align:center}
    .topline{display:flex;gap:8px;flex-wrap:wrap;align-items:center}
    .topline .sp{flex:1}
    .list{margin:.2rem 0 0 .9rem}
  </style>

  <!-- JSON-LD cho SEO -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "Organization",
    "name": "LightUnfold ‚Ä¢ Web3 AI X1000",
    "url": "https://vuhuyphat.github.io/",
    "sameAs": ["https://github.com/vuhuyphat"],
    "description": "Trang Web3 AI t·ª± ƒë·ªông 24/7 ‚Ä¢ chuy·ªÉn ƒë·ªïi X1000"
  }
  </script>
</head>
<body>
<div class="wrap">

  <!-- Header -->
  <div class="card">
    <div class="topline">
      <span class="pill">ENS: <strong id="ens">lightunfold.eth</strong></span>
      <span class="pill">Heartbeat: <span id="hb" class="warn">‚Äî</span></span>
      <a class="pill" href="./data/latest.json" target="_blank">data</a>
      <span class="sp"></span>
      <a class="btn btn-warn" href="https://github.com/vuhuyphat/vuhuyphat.github.io/actions" target="_blank">‚öôÔ∏è C·∫≠p nh·∫≠t ngay</a>
    </div>
    <h1 id="brand" class="lead">LightUnfold ‚Ä¢ Web3 AI X1000</h1>
    <div id="tagline" class="muted">Trang Web3 AI t·ª± ƒë·ªông 24/7</div>
  </div>

  <!-- Opportunities -->
  <div class="card">
    <h3 style="margin:0 0 8px">üî• C∆° h·ªôi n·ªïi b·∫≠t</h3>
    <div id="opps" class="muted">ƒêang t·∫£i d·ªØ li·ªáu‚Ä¶</div>
    <div class="muted" id="updated" style="margin-top:6px"></div>
  </div>

  <!-- Payments -->
  <div class="card">
    <h3 style="margin:0 0 8px">üí≥ Thanh to√°n</h3>
    <div id="pays" class="grid"></div>
    <div class="muted" style="margin-top:8px">
      Qu√©t QR / ch·∫°m ƒë·ªÉ sao ch√©p ƒë·ªãa ch·ªâ. Sau khi thanh to√°n, vui l√≤ng li√™n h·ªá.
    </div>
  </div>

  <!-- Affiliates -->
  <div class="card">
    <h3 style="margin:0 0 8px">ü§ù Affiliate</h3>
    <ul id="affs" class="list muted"></ul>
  </div>

  <footer>¬© <span id="year"></span> LightUnfold ‚Ä¢ Phi t·∫≠p trung & m·ªü r·ªông 24/7</footer>
</div>

<script>
/* ========= Helpers ========= */
const $ = (id) => document.getElementById(id);
const json = async (url) => {
  const r = await fetch(url + (url.includes("?")?"&":"?") + "_ts=" + Date.now(), {cache:"no-store"});
  if(!r.ok) throw new Error(r.status);
  return await r.json();
};
const fmt = (iso) => { try{ return new Date(iso).toLocaleString(); }catch{ return "‚Äî"; } };
const qrURL = (text) => `https://api.qrserver.com/v1/create-qr-code/?size=220x220&data=${encodeURIComponent(text)}`;
const copy = async (txt, el) => {
  try{ await navigator.clipboard.writeText(txt); el.textContent="ƒê√£ sao ch√©p ‚úì"; setTimeout(()=>el.textContent="Sao ch√©p",1200);}catch{}
};

/* ========= Renderers ========= */
function renderOpps(data){
  if(!data?.items?.length){ $("opps").textContent = "Ch∆∞a c√≥ d·ªØ li·ªáu (ƒë·ª£i cron ~10 ph√∫t)."; return; }
  const line = data.items.slice(0,5).map(x=>`${x.symbol}: $${x.price} (${(x.ch24h||0).toFixed(2)}%)`).join(" ‚Ä¢ ");
  $("opps").textContent = line;
  $("updated").textContent = "C·∫≠p nh·∫≠t: " + fmt(data.generated_at || data.last_update);
  $("hb").textContent = $("updated").textContent.replace("C·∫≠p nh·∫≠t: ","");
  $("hb").className = "ok";
}

function itemPay(title, addr, scheme){
  if(!addr) return "";
  const label = `${title}`;
  const qr = qrURL(`${scheme}${addr}`);
  const id = "cp-" + Math.random().toString(36).slice(2,8);
  return `
    <div class="qr">
      <div>${label}</div>
      <img loading="lazy" alt="${label} QR" src="${qr}">
      <div class="addr">${addr}</div>
      <span class="copy" id="${id}">Sao ch√©p</span>
    </div>
    <script>document.getElementById("${id}").onclick=()=>(${copy}).call(null,"${addr}",document.getElementById("${id}"));</script>
  `;
}

function renderPays(cfg){
  const p = cfg?.payments || {};
  const html = [
    itemPay("Ethereum (ETH)", p.eth, "ethereum:"),
    itemPay("USDT (ERC20)", p.usdt_erc20, "USDT (ERC20): "),
    itemPay("MoMo", p.momo, "MoMo:"),
    itemPay("Vietcombank", p.vietcombank, "Vietcombank:"),
    itemPay("PayPal", p.paypal, "PayPal:")
  ].join("");
  $("pays").innerHTML = html || '<div class="muted">Ch∆∞a c·∫•u h√¨nh ph∆∞∆°ng th·ª©c thanh to√°n.</div>';
}

function renderAff(cfg){
  const a = Array.isArray(cfg?.affiliates) ? cfg.affiliates : [];
  $("affs").innerHTML = a.length
    ? a.map(x=>`<li><a href="${x.url}" target="_blank" rel="nofollow">${x.name}</a></li>`).join("")
    : "<li>ƒêang c·∫≠p nh·∫≠t‚Ä¶</li>";
}

/* ========= Boot ========= */
(async function boot(){
  $("year").textContent = new Date().getFullYear();
  try{
    const cfg = await json("config.json");
    $("brand").textContent = cfg?.site?.brand || $("brand").textContent;
    $("tagline").textContent = cfg?.site?.tagline || $("tagline").textContent;
    $("ens").textContent = cfg?.site?.ens || $("ens").textContent;
    renderPays(cfg);
    renderAff(cfg);
  }catch(e){ /* thi·∫øu config c≈©ng v·∫´n ch·∫°y ƒë∆∞·ª£c */ }

  try{
    const data = await json("data/latest.json");
    renderOpps(data);
  }catch(e){
    $("opps").textContent = "Ch∆∞a c√≥ d·ªØ li·ªáu (ƒë·ª£i cron ~10 ph√∫t).";
  }

  // Auto refresh m·ªói 5 ph√∫t
  setInterval(async () => {
    try{ renderOpps(await json("data/latest.json")); }catch{}
  }, 5*60*1000);
})();
</script>
</body>
</html>
