<!doctype html>
<html lang="vi">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>LightUnfold ‚Ä¢ Web3 AI X1000</title>
<meta name="description" content="Web3 AI t·ª± ƒë·ªông 24/7: c∆° h·ªôi n·ªïi b·∫≠t, thanh to√°n QR, n·ªôi dung cao c·∫•p v·ªõi m√£/m√£ giao d·ªãch, ƒëa ng√¥n ng·ªØ, c·ª±c nh·∫π.">
<meta property="og:title" content="LightUnfold ‚Ä¢ Web3 AI X1000">
<meta property="og:description" content="Web3 AI t·ª± ƒë·ªông 24/7: c∆° h·ªôi n·ªïi b·∫≠t, thanh to√°n QR, n·ªôi dung cao c·∫•p, affiliate.">
<meta property="og:type" content="website">
<meta property="og:url" content="https://vuhuyphat.github.io/">
<meta name="theme-color" content="#0b0f13">
<style>
:root{--bg:#0b0f13;--card:#10161d;--line:#1c2836;--txt:#e9eef4;--mut:#9fb3c8;--brand:#7dc1ff;--accent:#ffb000;--ok:#2ecc71;--bad:#ff4d4f}
*{box-sizing:border-box}html,body{margin:0;background:var(--bg);color:var(--txt);font:15px/1.6 system-ui,-apple-system,Segoe UI,Roboto}
.wrap{max-width:1100px;margin:0 auto;padding:18px}
.row{display:flex;gap:10px;flex-wrap:wrap;align-items:center}
.pill{display:inline-flex;gap:6px;align-items:center;padding:6px 10px;border:1px solid var(--line);border-radius:999px;color:var(--mut)}
.link{color:var(--brand);text-decoration:none}
h1{margin:10px 0 6px;font-size:28px}
.card{background:var(--card);border:1px solid var(--line);border-radius:14px;padding:16px;margin-top:12px}
.grid{display:grid;gap:14px;grid-template-columns:repeat(auto-fit,minmax(260px,1fr))}
.btn{display:inline-flex;gap:8px;align-items:center;background:var(--accent);color:#1a1300;border:0;border-radius:10px;padding:10px 14px;font-weight:700;cursor:pointer}
.badge{display:inline-flex;align-items:center;gap:6px;border:1px solid var(--line);border-radius:999px;padding:4px 10px}
.list .item{display:flex;gap:10px;align-items:flex-start;padding:10px 0;border-top:1px dashed var(--line)}
.score{min-width:54px;text-align:center;border:1px solid var(--line);border-radius:8px;padding:4px 6px;color:#ffdca8;background:#241a00}
.tag{display:inline-block;border:1px solid var(--line);border-radius:8px;padding:2px 8px;margin:2px 4px 0 0;color:#bcd}
.pay{display:flex;gap:14px}
.pay img{width:160px;height:160px;border-radius:12px;border:1px solid var(--line);background:#000}
.pay .meta{flex:1;min-width:0}
input,textarea{width:100%;background:#0d131a;border:1px solid var(--line);border-radius:10px;color:var(--txt);padding:10px}
.hidden{display:none}
.footer{padding:28px 0;text-align:center;color:#9fb3c8}
.sharebar{position:fixed;right:12px;bottom:12px;display:flex;gap:8px;background:#10161d;border:1px solid #1c2836;border-radius:12px;padding:8px;z-index:9999}
.sharebar a{font-size:18px;text-decoration:none}
.ok{color:var(--ok)}.err{color:var(--bad)}
</style>
</head>
<body>
<div class="wrap">
  <div class="row">
    <span class="pill">ENS: <b id="ens">‚Äî</b></span>
    <span class="pill">Heartbeat: <b id="hb">‚Äî</b></span>
    <a class="pill link" href="config.json" target="_blank">config</a>
    <a class="pill link" href="data/latest.json" target="_blank">data</a>
    <span class="pill" id="lang">VI/EN</span>
    <span class="pill" id="theme">üåó Theme</span>
  </div>

  <h1 id="brand">LightUnfold ‚Ä¢ Web3 AI X1000</h1>
  <div id="tagline" style="color:#9fb3c8">‚Äî</div>

  <section class="card">
    <div class="row" style="justify-content:space-between">
      <h3 style="margin:0">üî• C∆° h·ªôi n·ªïi b·∫≠t</h3>
      <span class="badge" id="uptxt">ƒêang c·∫≠p nh·∫≠t‚Ä¶</span>
    </div>
    <div id="ticker" style="margin:4px 0 8px;color:#bcd"></div>
    <div id="opps" class="list"></div>
  </section>

  <section class="card">
    <h3 style="margin:0 0 8px">üí≥ Thanh to√°n</h3>
    <div id="pays" class="grid"></div>
    <div style="color:#9fb3c8;margin-top:6px">Qu√©t QR / click ƒë·ªÉ thanh to√°n nhanh. Sau khi thanh to√°n, d√πng <b>m√£ m·ªü kh√≥a</b> ƒë·ªÉ xem n·ªôi dung cao c·∫•p. Li√™n h·ªá <code id="pp"></code>.</div>
  </section>

  <section class="card">
    <h3 style="margin:0 0 8px">üîì N·ªôi dung cao c·∫•p</h3>
    <div id="locked">
      <div class="grid">
        <div>
          <input id="unlockCode" placeholder="Nh·∫≠p m√£ m·ªü kh√≥a‚Ä¶">
          <input id="txhash" style="margin-top:8px" placeholder="(T√πy ch·ªçn) D√°n m√£ giao d·ªãch/b·∫±ng ch·ª©ng">
          <div class="row" style="margin-top:8px">
            <button class="btn" id="doUnlock">M·ªü kh√≥a</button>
            <button class="btn" style="background:transparent;border:1px solid var(--line);color:#e9eef4" id="remember">Nh·ªõ tr√™n thi·∫øt b·ªã</button>
          </div>
          <div id="uMsg" style="margin-top:6px;color:#9fb3c8"></div>
        </div>
        <div style="color:#9fb3c8">
          <b>C√°ch ho·∫°t ƒë·ªông</b>
          <ul>
            <li>Thanh to√°n (ETH/USDT/MoMo/VCB/PayPal‚Ä¶)</li>
            <li>Nh·∫≠n m√£ ‚Üí nh·∫≠p ƒë·ªÉ m·ªü kh√≥a n·ªôi dung</li>
            <li>C√≥ th·ªÉ l∆∞u m√£ & m√£ giao d·ªãch ngay tr√™n thi·∫øt b·ªã c·ªßa b·∫°n</li>
          </ul>
        </div>
      </div>
    </div>
    <div id="opened" class="hidden">
      <div class="row"><span class="pill ok">‚úî ƒê√£ m·ªü kh√≥a</span><button class="btn" style="background:transparent;border:1px solid var(--line);color:#e9eef4" id="relock">Kho√° l·∫°i</button></div>
      <div id="premium" class="grid" style="margin-top:10px"></div>
    </div>
  </section>

  <section class="card">
    <h3 style="margin:0 0 8px">üß∞ G√≥i s·∫£n ph·∫©m / B√°o c√°o</h3>
    <div id="bundles" class="grid"></div>
  </section>

  <section class="card">
    <h3 style="margin:0 0 8px">ü§ù Affiliate</h3>
    <div id="affs" class="grid"></div>
  </section>

  <div class="footer">¬© <span id="year"></span> LightUnfold ‚Ä¢ T·ª± ƒë·ªông 24/7</div>
</div>

<script>
const $=s=>document.querySelector(s), $$=s=>document.querySelectorAll(s);
const DARK={"--bg":"#0b0f13","--card":"#10161d","--line":"#1c2836","--txt":"#e9eef4","--mut":"#9fb3c8","--brand":"#7dc1ff"};
const LIGHT={"--bg":"#f7fafc","--card":"#ffffff","--line":"#e2e8f0","--txt":"#0b0f13","--mut":"#4a5568","--brand":"#2563eb"};
function setTheme(m){const v=(m==='light'?LIGHT:DARK);for(const k in v)document.documentElement.style.setProperty(k,v[k]);localStorage.setItem('theme',m);}
setTheme(localStorage.getItem('theme')||'dark'); $('#theme').onclick=()=>setTheme((localStorage.getItem('theme')||'dark')==='dark'?'light':'dark');

const T={vi:{hot:"C∆° h·ªôi n·ªïi b·∫≠t",pay:"Thanh to√°n",locked:"N·ªôi dung cao c·∫•p"},en:{hot:"Hot opportunities",pay:"Payments",locked:"Premium"}};
let LANG=(localStorage.getItem('lang')||navigator.language||'vi').slice(0,2).toLowerCase().startsWith('vi')?'vi':'en';
$('#lang').onclick=()=>{LANG=(LANG==='vi'?'en':'vi');localStorage.setItem('lang',LANG);$('#lang').textContent=LANG==='vi'?'VI/EN':'EN/VI';}; $('#lang').textContent=LANG==='vi'?'VI/EN':'EN/VI';

const fmt=n=>Number(n||0).toLocaleString(undefined,{maximumFractionDigits:8});
const ago=iso=>{try{const s=(Date.now()-new Date(iso))/1e3;return s<60?`${s|0}s`:s<3600?`${(s/60|0)}m`:s<86400?`${(s/3600|0)}h`:`${(s/86400|0)}d`}catch{return'‚Äî'}};
const qrlink=t=>`https://api.qrserver.com/v1/create-qr-code/?size=300x300&data=${encodeURIComponent(t)}`;
async function j(url,key){try{const r=await fetch(url,{cache:'no-store'});const d=await r.json();if(key)localStorage.setItem(key,JSON.stringify(d));return d}catch(e){return key?JSON.parse(localStorage.getItem(key)||'{}'):{}}}

const DEF={
  site:{brand:"LightUnfold ‚Ä¢ Web3 AI X1000",ens:"lightunfold.eth",tagline:"20,000+ AI ‚Ä¢ 200+ qu·ªëc gia ‚Ä¢ 200+ ng√¥n ng·ªØ ‚Ä¢ t·ª± ƒë·ªông 24/7 ‚Ä¢ chuy·ªÉn ƒë·ªïi X1000",
        payments:{},affiliates:[],contact:"@lightunfold"},
  feeds:{top_n:10}, schedule:{refresh_minutes:10},
  secrets:{unlock_code:"X1000VIP"},
  store:{premium:[{title:"Alpha Feed Pro",desc:"D√≤ng tin alpha si√™u nhanh.",bullets:["B·ªô l·ªçc r·ªßi ro","B·∫•t th∆∞·ªùng d√≤ng ti·ªÅn"],link:"data/latest.json"}],
         bundles:[{title:"G√≥i Pro Signals",price:49,desc:"T√≠n hi·ªáu theo xu h∆∞·ªõng, c·∫≠p nh·∫≠t 24/7",tags:["Signals","Alpha"]}]}
};

(async function boot(){
  $('#year').textContent=new Date().getFullYear();
  const cfg=Object.assign({},DEF,await j('config.json','cfg'));
  $('#brand').textContent=cfg.site.brand; $('#ens').textContent=cfg.site.ens; $('#tagline').textContent=cfg.site.tagline; $('#pp').textContent=cfg.site.contact||cfg.site.ens;

  // Payments
  const P=cfg.site.payments||{}, list=[];
  if(P.eth) list.push({label:"ETH (EVM)",addr:P.eth,hint:"N·∫°p ETH/USDT tr√™n EVM.",open:"https://metamask.app.link/"});
  if(P.usdt_erc20) list.push({label:"USDT (ERC20)",addr:P.usdt_erc20,hint:"USDT m·∫°ng ERC20."});
  if(P.momo) list.push({label:"MoMo",addr:P.momo,hint:"V√≠ MoMo Vi·ªát Nam."});
  if(P.vietcombank) list.push({label:"Vietcombank",addr:P.vietcombank,hint:"Chuy·ªÉn kho·∫£n VCB."});
  if(P.paypal) list.push({label:"PayPal",addr:P.paypal,hint:"Thanh to√°n PayPal.",open:`https://www.paypal.me/${(P.paypal||'').split('@')[0]}`});
  $('#pays').innerHTML=list.map(p=>`
   <div class="card"><div class="pay">
    <img alt="QR" src="${qrlink(p.addr)}"><div class="meta">
     <div class="row" style="justify-content:space-between"><b>${p.label}</b>${p.open?`<a class="link" target="_blank" href="${p.open}">M·ªü ‚Üó</a>`:''}</div>
     <div style="color:#9fb3c8;margin:6px 0">${p.hint||''}</div>
     <div class="row" style="gap:8px;align-items:center"><code style="word-break:break-all">${p.addr}</code>
       <button class="btn" onclick="navigator.clipboard.writeText('${p.addr}')">Sao ch√©p</button>
       <a class="btn" href="${qrlink(p.addr)}" download>‚ö° T·∫£i QR</a>
     </div></div></div></div>`).join('');

  // Affiliates
  $('#affs').innerHTML=(cfg.site.affiliates||[]).map(a=>`<a class="card link" target="_blank" href="${a.url}"><b>${a.name}</b><div style="color:#9fb3c8">${a.tag||'ƒê·ªëi t√°c'}</div></a>`).join('');

  // Bundles
  $('#bundles').innerHTML=(cfg.store.bundles||[]).map(b=>`<div class="card"><div class="row" style="justify-content:space-between">
      <b>${b.title}</b><span class="badge">$${b.price}</span></div>
      <div style="color:#9fb3c8">${b.desc||''}</div>
      <div style="margin-top:6px">${(b.tags||[]).map(t=>`<span class="tag">${t}</span>`).join('')}</div>
      <div class="row" style="margin-top:8px"><button class="btn" onclick="document.getElementById('unlockCode').focus()">Mua & nh·∫≠p m√£</button></div></div>`).join('');

  // Paywall
  const SECRET=String(cfg.secrets?.unlock_code||'X1000VIP'); const keep=localStorage.getItem('unlocked_code')||'';
  function paintPremium(){
    $('#premium').innerHTML=(cfg.store.premium||[]).map(p=>`<div class="card"><b>${p.title}</b><div style="color:#9fb3c8">${p.desc||''}</div>
      <ul>${(p.bullets||[]).map(x=>`<li>${x}</li>`).join('')}</ul>${p.link?`<a class="link" target="_blank" href="${p.link}">Xem d·ªØ li·ªáu ‚Üó</a>`:''}</div>`).join('');
  }
  function gate(open){$('#locked').classList.toggle('hidden',open);$('#opened').classList.toggle('hidden',!open);}
  if(keep===SECRET){ gate(true); paintPremium(); const th=localStorage.getItem('tx_hash'); if(th) $('#uMsg').innerHTML='<span class="ok">TX: '+th+'</span>'; }
  $('#doUnlock').onclick=()=>{ const code=$('#unlockCode').value.trim(), tx=$('#txhash').value.trim();
    if(code===SECRET){ gate(true); paintPremium(); $('#uMsg').innerHTML='<span class="ok">ƒê√£ m·ªü kh√≥a!</span>'; if(tx) localStorage.setItem('tx_hash',tx); }
    else $('#uMsg').innerHTML='<span class="err">M√£ kh√¥ng ƒë√∫ng.</span>'; };
  $('#remember').onclick=()=>{ const c=$('#unlockCode').value.trim(); if(c){ localStorage.setItem('unlocked_code',c); $('#uMsg').textContent='ƒê√£ l∆∞u tr√™n thi·∫øt b·ªã.'; } };
  $('#relock').onclick=()=>{ localStorage.removeItem('unlocked_code'); gate(false); };

  // Opportunities: ∆∞u ti√™n latest.json, n·∫øu thi·∫øu ‚Üí qu√©t live
  async function load(){
    let latest=await j('data/latest.json','latest');
    if(Array.isArray(latest.items)){ render(latest.items, latest.generated_at, 'cache'); return; }
    // fallback live
    const items = await scanLive(); render(items, new Date().toISOString(), 'live');
  }
  async function scanLive(){
    const out=[]; 
    try{ // coingecko
      const cg=await j('https://api.coingecko.com/api/v3/coins/markets?vs_currency=usd&order=volume_desc&per_page=40&page=1&price_change_percentage=1h,24h,7d');
      if(Array.isArray(cg)) cg.forEach(c=>out.push({source:'coingecko',symbol:(c.symbol||'').toUpperCase(),name:c.name,price:+c.current_price||0,
        ch24h:+c.price_change_percentage_24h_in_currency||0,vol24h:+c.total_volume||0,
        score:(+c.price_change_percentage_1h_in_currency||0)*0.4+(+c.price_change_percentage_24h_in_currency||0)*0.35+(+c.price_change_percentage_7d_in_currency||0)*0.25+Math.log10((+c.total_volume||1)),
        link:`https://www.coingecko.com/en/coins/${c.id}`}));
    }catch{}
    try{ // coinlore
      const cl=await j('https://api.coinlore.net/api/tickers/?start=0&limit=40');
      (cl?.data||[]).forEach(c=>out.push({source:'coinlore',symbol:(c.symbol||'').toUpperCase(),name:c.name,price:+c.price_usd||0,
        ch24h:+c.percent_change_24h||0,vol24h:+c.volume24||0,score:(+c.percent_change_24h||0)*0.7+Math.log10((+c.volume24||1)),
        link:`https://www.coinlore.com/coin/${(c.name||'').toLowerCase().replace(/\s+/g,'-')}`}));
    }catch{}
    const best={}; out.forEach(it=>{if(!it.symbol)return; if(!best[it.symbol]||it.score>best[it.symbol].score) best[it.symbol]=it;});
    return Object.values(best).sort((a,b)=>b.score-a.score).slice(0, (cfg.feeds.top_n||10));
  }
  function render(items, ts, mode){
    $('#hb').textContent = mode==='live'?'LIVE':ago(ts);
    $('#uptxt').textContent = mode==='live'?'Qu√©t tr·ª±c ti·∫øp (fallback)':'C·∫≠p nh·∫≠t '+ago(ts);
    $('#ticker').textContent = (items||[]).slice(0,10).map(x=>`${x.symbol}: $${fmt(x.price)} (${(x.ch24h>=0?'+':'')+(x.ch24h||0).toFixed(2)}%)`).join(' ¬∑ ');
    $('#opps').innerHTML=(items||[]).map(x=>`
      <div class="item"><div class="score">+${(x.score||0).toFixed(2)}</div>
        <div style="flex:1;min-width:0">
          <div class="row" style="justify-content:space-between;gap:8px">
            <div><b>${x.symbol}</b> ¬∑ <span style="color:#9fb3c8">${x.name||''}</span></div>
            <a class="link" target="_blank" href="${x.link}">Chi ti·∫øt ‚Üó</a>
          </div>
          <div class="row" style="gap:8px">
            <span class="tag">Gi√°: $${fmt(x.price)}</span>
            <span class="tag">24h: ${(x.ch24h>=0?'+':'')}${(x.ch24h||0).toFixed(2)}%</span>
            <span class="tag">Kh·ªëi l∆∞·ª£ng: $${fmt(x.vol24h||0)}</span>
            <span class="tag">Ngu·ªìn: ${x.source}</span>
          </div>
        </div></div>`).join('') || '<div style="color:#9fb3c8">Ch∆∞a c√≥ d·ªØ li·ªáu.</div>';
  }
  load();

  // Share bar
  (function share(){
    const links=[
      "https://t.me/share/url?url="+encodeURIComponent(location.href),
      "https://twitter.com/intent/tweet?text="+encodeURIComponent(document.title)+"&url="+encodeURIComponent(location.href),
      "https://www.facebook.com/sharer/sharer.php?u="+encodeURIComponent(location.href),
      "https://www.linkedin.com/sharing/share-offsite/?url="+encodeURIComponent(location.href)
    ];
    const bar=document.createElement('div'); bar.className='sharebar';
    ["üì£","ùïè","f","in"].forEach((t,i)=>{const a=document.createElement('a');a.href=links[i];a.target='_blank';a.textContent=t;bar.appendChild(a);});
    document.body.appendChild(bar);
  })();
})();
</script>
</body>
</html>
