<!doctype html>
<html lang="vi">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover">
<title>VuHuyPhat • Shopee Deals — Freeship • Flash Sale • Voucher</title>
<meta name="description" content="Mua sắm Shopee: freeship theo điều kiện, flash sale, voucher đa ngành, deal 0đ* cho tài khoản đủ điều kiện. Nhấn để mở Shopee.">
<meta name="referrer" content="no-referrer">
<meta property="og:title" content="Shopee Deals — Freeship • Flash Sale • Voucher">
<meta property="og:description" content="Thời trang, gia dụng, công nghệ… Ưu đãi cập nhật liên tục. Nhấn để mở Shopee.">
<meta property="og:type" content="website">
<meta name="theme-color" content="#EE4D2D">
<link rel="preconnect" href="https://s.shopee.vn">
<style>
  :root{
    --cam:#EE4D2D; --cam2:#FF6A3D; --gold:#FFD400;
    --ink:#ffffff; --muted:#ffffffcc; --card:#ffffff14; --ring:#ffffff45;
    /* màu “khuyến mãi” tinh tế theo ngành */
    --m-giay: linear-gradient(135deg,#ffedd5,#ffd3c1);
    --m-ao:   linear-gradient(135deg,#ffe3e3,#ffd0d7);
    --m-gd:   linear-gradient(135deg,#ffe7d6,#ffd6b8);
    --m-lb:   linear-gradient(135deg,#ffe6f3,#ffd6ef);
  }
  *{box-sizing:border-box} html,body{margin:0;height:100%}
  html,body{
    background:linear-gradient(180deg,#EE4D2D 0%,#FF6A3D 55%,#FF8A66 100%) fixed;
    color:var(--ink); -webkit-font-smoothing:antialiased;
    font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Inter,Arial,sans-serif;
    line-height:1.6; overflow-x:hidden;
  }
  a{color:inherit;text-decoration:none}
  .wrap{max-width:1080px;margin:0 auto;padding:16px}

  /* progress bar */
  .prog{position:fixed;top:0;left:0;height:3px;background:#FFD400;box-shadow:0 0 12px #FFD400AA;transform-origin:0 50%;transform:scaleX(0);z-index:99}

  /* 3D */
  .stage{perspective:1200px;transform-style:preserve-3d}
  .hero3d{transform:rotateX(.4deg) rotateY(-.6deg);will-change:transform}

  /* HERO glass */
  .hero{position:relative;border-radius:24px;padding:26px 18px;overflow:visible;
    background:linear-gradient(135deg,rgba(255,255,255,.12),rgba(255,255,255,.04));
    backdrop-filter:saturate(130%) blur(6px);border:1px solid var(--ring);
    box-shadow:0 25px 60px rgba(0,0,0,.25), inset 0 0 0 1px rgba(255,255,255,.08);color:#fff}
  .hero:after{content:"";position:absolute;inset:auto -24% -40% auto;width:560px;height:560px;
    background:radial-gradient(closest-side,#fff7,transparent);filter:blur(14px);opacity:.35;z-index:-1;animation:float 9s ease-in-out infinite alternate}
  @keyframes float{to{transform:translateY(-18px)}}
  .brand{display:flex;align-items:center;gap:14px}
  .logo{width:48px;height:48px;border-radius:14px;background:#fff;display:grid;place-items:center;color:#EE4D2D;font-weight:900;box-shadow:0 8px 24px rgba(0,0,0,.15)}
  .badge{display:inline-block;background:#ffffff1f;border:1px solid #ffffff45;padding:6px 10px;border-radius:999px;font-weight:800}
  .hero h1{margin:10px 0 6px;font-size:29px}
  .hero p{margin:0 0 12px}
  .cta{display:inline-flex;align-items:center;gap:10px;border-radius:14px;padding:12px 16px;font-weight:900;background:#fff;color:#EE4D2D;border:2px solid #fff;transition:.22s;will-change:transform}
  .cta:hover{transform:translateY(-1.5px)}
  .cta.alt{background:transparent;color:#fff;border-color:#ffffff70}
  .pulse{animation:pulse 2s ease-in-out infinite}
  @keyframes pulse{0%,100%{box-shadow:0 0 0 0 rgba(255,212,0,.0)}50%{box-shadow:0 0 0 8px rgba(255,212,0,.28)}}
  .row{display:flex;gap:10px;flex-wrap:wrap;margin:10px 0 4px}

  .vstrip{margin-top:12px;display:flex;gap:8px;flex-wrap:wrap}
  .tag{background:#ffffff14;border:1px solid #ffffff45;padding:6px 10px;border-radius:999px}

  /* GRID */
  .grid{display:grid;grid-template-columns:repeat(12,1fr);gap:16px;margin-top:16px}
  .card{grid-column:span 12;background:var(--card);border-radius:18px;padding:16px;border:1px solid var(--ring);
    box-shadow:0 14px 40px rgba(0,0,0,.18);transition:transform .25s;color:#fff}
  .card:hover{transform:translateY(-2px)}
  @media(min-width:780px){.half{grid-column:span 6}}
  .card h3{margin:0 0 8px;font-size:18px}
  .list{list-style:none;margin:8px 0 0;padding:0}
  .list li{padding:8px 0;border-top:1px dashed #ffffff45}
  .list li:first-child{border-top:none}
  .chips{display:flex;flex-wrap:wrap;gap:8px;margin-top:10px}
  .chip{background:#ffffff10;border:1px solid #ffffff45;border-radius:999px;padding:7px 12px;font-size:12px}
  .btn{display:inline-flex;align-items:center;justify-content:center;gap:8px;border-radius:12px;padding:12px 16px;font-weight:900;border:2px solid var(--gold);background:linear-gradient(135deg,var(--gold),#fff0);color:#000;transition:.2s}
  .btn:hover{transform:translateY(-1px)}
  .btn.ghost{border-color:#fff;background:#fff;color:#EE4D2D}
  .note{color:var(--muted);font-size:13px}
  .faq dt{font-weight:800;margin-top:6px}
  .faq dd{margin:4px 0 10px}
  .footer{margin:24px 0 96px;color:#ffffffcc;font-size:13px}

  /* Sticky + FAB */
  .sticky{position:fixed;left:0;right:0;bottom:0;background:linear-gradient(90deg,#EE4D2D,#FF6A3D);display:flex;align-items:center;justify-content:center;gap:12px;padding:12px;z-index:10}
  .sticky a{background:#fff;color:#EE4D2D;font-weight:900;border-radius:10px;padding:10px 14px}
  .fab{position:fixed;right:14px;bottom:88px;background:#fff;color:#EE4D2D;border:2px solid var(--gold);border-radius:999px;padding:10px 14px;font-weight:900;z-index:11;box-shadow:0 10px 26px rgba(0,0,0,.18)}
  .toast{position:fixed;left:50%;bottom:130px;transform:translateX(-50%);background:#111;color:#fff;padding:10px 14px;border-radius:10px;opacity:0;transition:.25s;z-index:12}
  .toast.show{opacity:1}

  /* Today's deals */
  .dealgrid{display:grid;grid-template-columns:repeat(12,1fr);gap:10px}
  .deal{grid-column:span 12;background:#ffffff14;border:1px dashed #ffffff60;border-radius:12px;padding:10px;display:flex;align-items:center;justify-content:space-between}
  .deal b{font-size:14px}
  .deal small{color:#ffffffcc}
  @media(min-width:760px){.deal{grid-column:span 6}}

  /* QR desktop */
  .qrbox{display:none}
  @media(min-width:960px){
    .qrbox{display:flex;align-items:center;gap:14px;margin-top:10px}
    .qr{width:124px;height:124px;border-radius:12px;background:#fff;display:grid;place-items:center;border:2px dashed #ffcfbf}
    .qr small{color:#fff;opacity:.88}
  }
  .ico{width:18px;height:18px;display:inline-grid;place-items:center}
  canvas#confetti{position:fixed;inset:0;pointer-events:none;z-index:50}

  /* ==== HERO COLLAGE 3D (desktop/tablet) ==== */
  .hero-collage{position:absolute; inset:0; pointer-events:none; z-index:1}
  .pcard{
    position:absolute; width:100px; height:104px; padding:10px 8px;
    border-radius:16px; background:#fff; color:#EE4D2D; text-align:center;
    box-shadow:0 14px 30px rgba(0,0,0,.18); border:1px solid #ffd7c9;
    transform:translateZ(0) rotate(var(--rot,0deg)); will-change:transform, box-shadow;
    pointer-events:auto;
  }
  .pcard b{display:block;font-size:12px;color:#e24a2b;margin-top:6px}
  .pico{width:40px;height:40px;display:grid;place-items:center;margin:0 auto}

  /* đặt ở ngoài khung chữ để không che CTA */
  @media (min-width:480px){
    .pc-1{left:-12px; top:-16px; --rot:-7deg; animation:floatA 6s ease-in-out infinite}
    .pc-2{right:-12px; top:-12px; --rot:7deg; animation:floatB 7s ease-in-out infinite}
    .pc-3{left:-10px; bottom:-24px; --rot:6deg; animation:floatB 6.5s ease-in-out infinite}
    .pc-4{right:-10px; bottom:-28px; --rot:-6deg; animation:floatA 7.5s ease-in-out infinite}
  }
  @keyframes floatA{0%,100%{transform:translateY(0) rotate(var(--rot))}50%{transform:translateY(-8px) rotate(var(--rot))}}
  @keyframes floatB{0%,100%{transform:translateY(0) rotate(var(--rot))}50%{transform:translateY(7px) rotate(var(--rot))}}

  /* ==== CATEGORY CAPSULE (mobile-first) ==== */
  .caps{display:flex;gap:10px;overflow:auto;margin-top:12px;padding-bottom:4px;scroll-snap-type:x mandatory}
  .cap{scroll-snap-align:start; flex:0 0 auto; border-radius:16px; padding:10px 12px; display:flex; align-items:center; gap:8px; color:#8a2b1b; font-weight:800; border:1px solid #ffd7c9}
  .cap .emo{font-size:18px}
  .cap.giay{background:var(--m-giay)}
  .cap.ao{background:var(--m-ao)}
  .cap.giadung{background:var(--m-gd)}
  .cap.lamdep{background:var(--m-lb)}
  .caps::-webkit-scrollbar{height:6px} .caps::-webkit-scrollbar-thumb{background:#ffd1c4;border-radius:99px}

  /* Ẩn collage trên màn hình nhỏ để không chồng chéo */
  @media (max-width:479px){ .hero-collage{display:none} }
</style>
</head>
<body>
<div class="prog" id="prog"></div>
<canvas id="confetti"></canvas>

<script>
  /* CONFIG */
  const AFF_LINK = "https://s.shopee.vn/4q5pVa3C9Y";

  /* A/B headline – 3 biến thể, lưu 7 ngày */
  const HEADLINE_VARIANTS = [
    "Freeship theo điều kiện • Flash Sale • Voucher đa ngành",
    "Săn ưu đãi Shopee — Mua sắm thông minh mỗi ngày",
    "Shopee Mall chính hãng • Khuyến mãi cập nhật liên tục"
  ];
  const AB_KEY="vhp_ab_v1", TTL=7*24*60*60*1000;
  let ab = localStorage.getItem(AB_KEY);
  try{
    ab = ab? JSON.parse(ab): null;
    if(!ab || Date.now()-ab.t>TTL){ ab={i:Math.floor(Math.random()*HEADLINE_VARIANTS.length),t:Date.now()}; localStorage.setItem(AB_KEY,JSON.stringify(ab)); }
  }catch{ ab={i:0,t:Date.now()} }
</script>

<div class="wrap stage">
  <!-- HERO -->
  <section class="hero hero3d">
    <div class="brand">
      <div class="logo" aria-hidden="true">S</div>
      <div>
        <span class="badge">VuHuyPhat • Shopee Deals</span>
        <h1 id="headline">Freeship theo điều kiện • Flash Sale • Voucher đa ngành</h1>
      </div>
    </div>

    <p>Ưu đãi do Shopee cung cấp. Điều kiện áp dụng tùy chương trình & thời gian hiển thị trong ứng dụng Shopee.</p>
    <div class="row">
      <a id="cta-hero" class="cta pulse" href="https://s.shopee.vn/4q5pVa3C9Y" target="_blank" rel="nofollow sponsored noopener">
        <span class="ico" aria-hidden="true"><svg viewBox="0 0 24 24" width="18" height="18" fill="currentColor"><path d="M7 7V6a5 5 0 0 1 10 0v1h2a1 1 0 0 1 1 1v11a3 3 0 0 1-3 3H7a3 3 0 0 1-3-3V8a1 1 0 0 1 1-1h2zm2 0h6V6a3 3 0 0 0-6 0v1z"/></svg></span>
        Mở Shopee ngay
      </a>
      <a id="cta-voucher" class="cta alt" href="https://s.shopee.vn/4q5pVa3C9Y" target="_blank" rel="nofollow sponsored noopener">
        <span class="ico" aria-hidden="true"><svg viewBox="0 0 24 24" width="18" height="18" fill="currentColor"><path d="M3 7a2 2 0 0 1 2-2h14l2 3-2 3H5a2 2 0 0 1-2-2V7zm0 7a2 2 0 0 1 2-2h14l2 3-2 3H5a2 2 0 0 1-2-2v-2z"/></svg></span>
        Săn mã nhanh
      </a>
    </div>

    <div class="vstrip">
      <span class="tag">Freeship (tùy điều kiện)</span>
      <span class="tag">Flash Sale giờ vàng</span>
      <span class="tag">Voucher đa ngành</span>
      <span class="tag">Shopee Mall</span>
      <span class="tag">Khung giờ kế tiếp: <b><span id="count"></span></b></span>
    </div>

    <!-- CAPSULE ngành hàng (mobile) -->
    <div class="caps">
      <a class="cap giay" href="https://s.shopee.vn/4q5pVa3C9Y" target="_blank" rel="nofollow sponsored noopener"><span class="emo">👟</span> Giày dép</a>
      <a class="cap ao" href="https://s.shopee.vn/4q5pVa3C9Y" target="_blank" rel="nofollow sponsored noopener"><span class="emo">👕</span> Áo quần</a>
      <a class="cap giadung" href="https://s.shopee.vn/4q5pVa3C9Y" target="_blank" rel="nofollow sponsored noopener"><span class="emo">🍳</span> Gia dụng</a>
      <a class="cap lamdep" href="https://s.shopee.vn/4q5pVa3C9Y" target="_blank" rel="nofollow sponsored noopener"><span class="emo">💄</span> Làm đẹp</a>
    </div>

    <!-- COLLAGE 3D (tablet/desktop) -->
    <div class="hero-collage" aria-hidden="true">
      <a class="pcard pc-1" href="https://s.shopee.vn/4q5pVa3C9Y" target="_blank" rel="nofollow sponsored noopener" style="background:var(--m-giay)">
        <span class="pico"><svg viewBox="0 0 24 24" width="40" height="40" fill="#EE4D2D"><path d="M3 15c0 1.657 1.343 3 3 3h12a3 3 0 0 0 3-3v-1l-4-3-3 2-4-3-2 2H4a1 1 0 0 0-1 1v2z"/></svg></span>
        <b>Giày dép</b>
      </a>
      <a class="pcard pc-2" href="https://s.shopee.vn/4q5pVa3C9Y" target="_blank" rel="nofollow sponsored noopener" style="background:var(--m-ao)">
        <span class="pico"><svg viewBox="0 0 24 24" width="40" height="40" fill="#EE4D2D"><path d="M9 3 6 5 4 9v10h6V9h4v10h6V9l-2-4-3-2-2 2H11z"/></svg></span>
        <b>Áo quần</b>
      </a>
      <a class="pcard pc-3" href="https://s.shopee.vn/4q5pVa3C9Y" target="_blank" rel="nofollow sponsored noopener" style="background:var(--m-gd)">
        <span class="pico"><svg viewBox="0 0 24 24" width="40" height="40" fill="#EE4D2D"><path d="M5 10h14v7a3 3 0 0 1-3 3H8a3 3 0 0 1-3-3v-7zm-2 0h18v-2H3v2zm6-5h6v2H9V5z"/></svg></span>
        <b>Gia dụng</b>
      </a>
      <a class="pcard pc-4" href="https://s.shopee.vn/4q5pVa3C9Y" target="_blank" rel="nofollow sponsored noopener" style="background:var(--m-lb)">
        <span class="pico"><svg viewBox="0 0 24 24" width="40" height="40" fill="#EE4D2D"><path d="M8 3h4v7H8zM7 11h6v10H7zM14 12h3v9h-3z"/></svg></span>
        <b>Làm đẹp</b>
      </a>
    </div>

    <!-- QR desktop -->
    <div class="qrbox">
      <div class="qr"><img id="qr" alt="QR mở Shopee" width="116" height="116" decoding="async" loading="lazy"></div>
      <small>Quét QR trên máy tính để mở Shopee trên điện thoại.</small>
    </div>
  </section>

  <!-- TODAY'S DEALS (copy gợi ý) -->
  <section class="card">
    <h3>Ưu đãi đang mở hôm nay</h3>
    <div class="dealgrid" id="dealgrid"></div>
    <p class="note">Nội dung chỉ mang tính gợi ý tổng quát. Vui lòng xem chi tiết điều kiện trực tiếp trong ứng dụng Shopee.</p>
    <p><a class="btn" href="https://s.shopee.vn/4q5pVa3C9Y" target="_blank" rel="nofollow sponsored noopener">Mở Shopee để xem đầy đủ</a></p>
  </section>

  <div class="grid">
    <article class="card half">
      <h3>Lợi ích bạn quan tâm</h3>
      <ul class="list">
        <li>🎟️ Mã giảm giá toàn sàn & ngành hàng — cập nhật thường xuyên.</li>
        <li>⚡ Flash Sale theo khung giờ hiển thị trong ngày.</li>
        <li>🆓 Deal 0đ* cho tài khoản đủ điều kiện (chi tiết trong app).</li>
        <li>🚚 Freeship theo quy định từng chương trình.</li>
      </ul>
      <p class="note">Ưu đãi thay đổi theo thời gian/khu vực. Vui lòng xem chi tiết khi mở Shopee.</p>
      <p class="row">
        <a id="cta-1" class="btn" href="https://s.shopee.vn/4q5pVa3C9Y" target="_blank" rel="nofollow sponsored noopener">Xem ưu đãi trong Shopee</a>
        <a id="cta-2" class="btn ghost" href="https://s.shopee.vn/4q5pVa3C9Y" target="_blank" rel="nofollow sponsored noopener">Mở app Shopee</a>
      </p>
      <p class="row">
        <a id="copy" class="chip" href="#">📋 Sao chép link</a>
        <a id="share" class="chip" href="#">🔗 Chia sẻ cho bạn bè</a>
      </p>
    </article>

    <article class="card half">
      <h3>Mua sắm theo nhu cầu</h3>
      <div class="chips">
        <a class="chip" id="cat-1" href="https://s.shopee.vn/4q5pVa3C9Y" target="_blank" rel="nofollow sponsored noopener">Thời trang</a>
        <a class="chip" id="cat-2" href="https://s.shopee.vn/4q5pVa3C9Y" target="_blank" rel="nofollow sponsored noopener">Gia dụng</a>
        <a class="chip" id="cat-3" href="https://s.shopee.vn/4q5pVa3C9Y" target="_blank" rel="nofollow sponsored noopener">Công nghệ</a>
        <a class="chip" id="cat-4" href="https://s.shopee.vn/4q5pVa3C9Y" target="_blank" rel="nofollow sponsored noopener">Làm đẹp</a>
        <a class="chip" id="cat-5" href="https://s.shopee.vn/4q5pVa3C9Y" target="_blank" rel="nofollow sponsored noopener">Mẹ & Bé</a>
        <a class="chip" id="cat-6" href="https://s.shopee.vn/4q5pVa3C9Y" target="_blank" rel="nofollow sponsored noopener">Nhà bếp</a>
      </div>
      <p class="note">Danh mục mang tính gợi ý. Việc chọn & thanh toán diễn ra trực tiếp trong Shopee.</p>
    </article>

    <article class="card">
      <h3>3 bước là xong</h3>
      <ul class="list">
        <li>1) Nhấn “Mở Shopee”.</li>
        <li>2) Đăng nhập/tạo tài khoản miễn phí.</li>
        <li>3) Chọn sản phẩm, áp mã — thanh toán an toàn trên Shopee.</li>
      </ul>
    </article>

    <article class="card">
      <h3>FAQ & Ghi chú</h3>
      <dl class="faq">
        <dt>Trang này có phải của Shopee?</dt>
        <dd>Không. Đây là trang giới thiệu do VuHuyPhat tạo; mọi giao dịch/ưu đãi diễn ra trên hệ thống Shopee.</dd>
        <dt>“Deal 0đ*” nghĩa là gì?</dt>
        <dd>Là chương trình đặc thù (ví dụ người dùng mới/điều kiện khác) do Shopee công bố. Vui lòng xem chi tiết trong ứng dụng Shopee.</dd>
        <dt>Chính sách & bảo mật?</dt>
        <dd>Mọi chính sách vận chuyển, đổi trả, bảo hành, thanh toán… theo quy định chính thức của Shopee.</dd>
      </dl>
      <p class="note">*Disclosure: Liên kết có thể giúp VuHuyPhat nhận hoa hồng giới thiệu mà không làm tăng giá sản phẩm của bạn.</p>
    </article>
  </div>

  <div class="footer">
    © <span id="year"></span> VuHuyPhat • Tông cam cảm hứng Shopee. Không đại diện cho Shopee.
  </div>
</div>

<!-- FAB + Sticky + Toast -->
<a class="fab" id="cta-fab" href="https://s.shopee.vn/4q5pVa3C9Y" target="_blank" rel="nofollow sponsored noopener">Mở Shopee</a>
<div class="sticky">
  <span style="color:#fff;font-weight:900">Ưu đãi đang mở</span>
  <a id="cta-sticky" href="https://s.shopee.vn/4q5pVa3C9Y" target="_blank" rel="nofollow sponsored noopener">Mua sắm ngay 🛍️</a>
</div>
<div class="toast" id="toast">Đã sao chép link!</div>

<noscript>
  <div style="position:fixed;left:0;right:0;top:0;background:#111;color:#fff;padding:8px 12px;text-align:center;z-index:9999">
    Trình duyệt tắt JavaScript. <a href="https://s.shopee.vn/4q5pVa3C9Y" style="color:#FFD400;font-weight:800">Nhấn để mở Shopee</a>.
  </div>
</noscript>

<script>
  /* gắn lại href theo AFF_LINK (để sau này đổi 1 chỗ) */
  const ids=["cta-hero","cta-voucher","cta-1","cta-2","cta-fab","cta-sticky","cat-1","cat-2","cat-3","cat-4","cat-5","cat-6"];
  ids.forEach(i=>{const a=document.getElementById(i); if(a) a.href=AFF_LINK;});

  // A/B headline
  const H=document.getElementById('headline'); H.textContent = (typeof ab==='object'&&ab)? HEADLINE_VARIANTS[ab.i] : HEADLINE_VARIANTS[0];

  // Countdown gợi ý nhịp (không hứa hẹn)
  const countEl=document.getElementById('count');
  function nextSlot(){const now=new Date(),n=new Date(now),slots=[0,12,18];let next=new Date(now);next.setHours(24,0,0,0);for(const h of slots){const t=new Date(n);t.setHours(h,0,0,0);if(t>now){next=t;break}}return next}
  function tick(){const t=nextSlot().getTime()-Date.now(),h=Math.max(0,Math.floor(t/36e5)),m=Math.max(0,Math.floor(t%36e5/6e4)),s=Math.max(0,Math.floor(t%6e4/1e3));if(countEl)countEl.textContent=`${h}h ${m}m ${s}s`}
  setInterval(tick,1000); tick();

  // Today's deals (gợi ý copy – không claim %)
  const DEALS=[
    {title:"Freeship theo điều kiện", note:"Áp dụng theo từng chương trình trong app Shopee"},
    {title:"Flash Sale giờ vàng", note:"Sản phẩm luân phiên trong ngày"},
    {title:"Voucher đa ngành", note:"Thời trang • Gia dụng • Công nghệ..."},
    {title:"Shopee Mall", note:"Hàng chính hãng • Chính sách từ Shopee"},
    {title:"Mã sưu tầm", note:"Tìm ở mục Mã giảm giá • Voucher"},
    {title:"Combo quà tặng", note:"Tuỳ sản phẩm & thời gian khuyến mãi"}
  ];
  const grid=document.getElementById('dealgrid');
  grid.innerHTML = DEALS.map(d=>`
    <div class="deal">
      <div><b>• ${d.title}</b><br><small>${d.note}</small></div>
      <a class="chip" href="${AFF_LINK}" target="_blank" rel="nofollow sponsored noopener">Mở Shopee</a>
    </div>`).join("");

  // Progress bar khi cuộn
  const prog=document.getElementById('prog');
  addEventListener('scroll',()=>{const h=document.documentElement, p=h.scrollTop/(h.scrollHeight-h.clientHeight); prog.style.transform=`scaleX(${p})`;},{passive:true});

  // Copy + Share + CONFETTI
  const toast=document.getElementById('toast');
  function flash(){toast.classList.add('show');setTimeout(()=>toast.classList.remove('show'),1200);}
  document.getElementById('copy').addEventListener('click',e=>{
    e.preventDefault(); navigator.clipboard?.writeText(AFF_LINK).then(()=>{flash(); shootConfetti();});
  });
  document.getElementById('share').addEventListener('click',e=>{
    e.preventDefault();
    if(navigator.share){navigator.share({title:'Ưu đãi Shopee',text:'Freeship • Flash Sale • Voucher',url:AFF_LINK});}
    else{window.open(AFF_LINK,'_blank');}
  });

  // QR desktop
  const qr=document.getElementById('qr');
  if(qr){qr.src=`https://api.qrserver.com/v1/create-qr-code/?size=160x160&data=${encodeURIComponent(AFF_LINK)}`;}

  // Năm
  document.getElementById('year').textContent=new Date().getFullYear();

  // Parallax hero
  const hero=document.querySelector('.hero3d');
  hero.addEventListener('mousemove',e=>{
    const r=hero.getBoundingClientRect(), nx=((e.clientX-r.left)/r.width-.5)*2, ny=((e.clientY-r.top)/r.height-.5)*2;
    hero.style.transform=`rotateX(${ny*2.2}deg) rotateY(${nx*-2.2}deg)`;
  });
  hero.addEventListener('mouseleave',()=>{hero.style.transform='rotateX(.4deg) rotateY(-.6deg)';});

  // Mini confetti
  const c=document.getElementById('confetti'), ctx=c.getContext('2d');
  function resize(){c.width=innerWidth; c.height=innerHeight}
  addEventListener('resize',resize); resize();
  function shootConfetti(){
    const N=110, P=[];
    for(let i=0;i<N;i++){
      P.push({x:innerWidth/2,y:innerHeight*0.28,r:Math.random()*4+2,
              vx:(Math.random()-0.5)*6,vy:Math.random()*-6-3,
              a:Math.random()*Math.PI,spin:(Math.random()-0.5)*0.2,
              col:i%3? '#FFD400':'#FFFFFF'});
    }
    let t=0; const id=setInterval(()=>{
      t++; ctx.clearRect(0,0,c.width,c.height);
      P.forEach(p=>{p.vy+=0.12;p.x+=p.vx;p.y+=p.vy;p.a+=p.spin;
        ctx.save();ctx.translate(p.x,p.y);ctx.rotate(p.a);
        ctx.fillStyle=p.col;ctx.fillRect(-p.r,-p.r,p.r*2,p.r*2);ctx.restore();});
      if(t>110){clearInterval(id);ctx.clearRect(0,0,c.width,c.height);}
    },16);
  }
</script>
</body>
</html>
